---
title: 版本控制和 GIT 简介
date: 2020-10-30 15:04:37
categories:
- Git
comments: true
---

为什么要⽤版本控制系统？ 

- 正确地记录：每个版本是什么、每个版本改了什么、任意两个版本之间的差异 

- 多⼈协作 

- 恢复之前的版本 

- 备份

<!-- more -->



## 版本控制系统分类

### 集中式版本控制系统 

![https://img.youpin.mi-img.com/jianyu/m070ihm69to_22026080841604042090793.png](https://img.youpin.mi-img.com/jianyu/m070ihm69to_22026080841604042090793.png)

#### 特点

只有⼀台中央服务器，存放着所有研发数据，⽽其它客户端机器上保存的是中央服务器最新版本的⽂件快照，不包括项⽬⽂件的变更历史。

#### 优点

1. 操作简单，使⽤没有难度，可轻松上⼿。 

2. ⽂件夹级权限控制，权限控制粒度⼩。 

3. 对客户端配置要求不⾼，⽆需存储全套代码。 

#### 缺点

1. ⽹络环境要求⾼，相关⼈员必须联⽹才能⼯作。 

2. 中央服务器的单点故障影响全局，如果服务器宕机，所有⼈都⽆法⼯作。 

3. 中央服务器在没有备份的情况下，磁盘⼀旦被损坏，将丢失所有数据。 



### 分布式版本控制系统

![https://img.youpin.mi-img.com/jianyu/53l5aeqtasg_22026080841604042090712.png](https://img.youpin.mi-img.com/jianyu/53l5aeqtasg_22026080841604042090712.png)

#### 特点

每个客户端都是代码仓库的完整镜像，包括项⽬⽂件的变更历史。所有数据分布的存储在每个客户端，不存在中央服务器。

#### 优点

1. 版本库本地化，版本库的完整克隆，包括标签、分⽀、版本记录等。 

2. ⽀持离线提交，适合跨地域协同开发。 

3. 分⽀切换快速⾼效，创建和销毁分⽀廉价。 

#### 缺点

1. 学习成本⾼，不容易上⼿。 

2. 只能针对整个仓库创建分⽀，⽆法根据⽬录建⽴层次性的分⽀



## Git 简介

2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，收回了 Linux 内核社区免费使⽤ BitKeeper 的权⼒。 迫使 Linux 开源社区开发出⾃⼰的版本系统。 

#### 特点

- 直接记录快照，⽽⾮差异⽐较 
  - Git 对待数据更像是⼀个 快照流 
  - 如果⽂件没有修改，不重新存储该⽂件，只保留⼀个链接指向之前存储的⽂件 
  - 更像是⼀个⼩型的⽂件系统 

- 近乎所有操作都是本地执⾏ 
  - 本地磁盘有完整的仓库（repo） 
  - 离线时可以本地修改、提交，等⽹络恢复再上传（SVN 和 CVS 只能修改，⽆法提交） 

- 保证完整性 
  - 数据在存储前计算sha1校验和，并以此作为引⽤ 

- ⼀般只添加数据 
  - ⼀旦提交快照，难以丢失数据，尤其是定期推送到其他仓库 

- 三种状态：已提交（committed）、已修改（modified） 和 已暂存（staged）

