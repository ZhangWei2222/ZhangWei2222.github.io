---
title: css3动画和js动画的区别、选择
date: 2020-07-13 14:33:37
categories:
- CSS3
comments: true
---


**CSS动画**

- 优点：浏览器可以对动画进行优化
  - 浏览器使用与 `requestAnimationFrame` 类似的机制， `requestAnimationFrame`  比起 `setTimeout`、`setInterval` 设置动画的优势主要是：
    - `requestAnimationFrame` 会把每一帧中的所有 DOM 操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率，一般来说，这个频率为每秒 60 帧
    - 在隐藏或不可见的元素中 `requestAnimationFrame` 不会进行重绘或回流，这当然就意味着更少的 cpu、gpu和内存使用量
  - 强制使用硬件加速 （通过 GPU 来提高动画性能）

- 缺点
  - 动画控制能力较弱，无法在某个时间点附加事件绑定回调函数
  - 代码冗长。想用 CSS 实现稍微复杂一点动画，最后C代码都会变得非常笨重



**JS动画**

- 优点
  - 动画控制能力强，可以对动画进行控制：开始、暂停、回放、终止等等
  - 动画效果比css3动画丰富，有些动画效果，如曲线运动、冲击闪烁等，只能js动画才能完成
  - css3有兼容性问题，js大多数没有兼容性问题
- 缺点
  - js是单线程，可能会出现阻塞、丢帧
  - 代码复杂度高于css3动画



**选择**

- 简单的动画，比如过渡，适合用css3；复杂的动画，需要对动画进行一些事件处理的，适合js
- 若动画两种方式都能实现，则：如果有兼容性问题的，选择js；css3虽然有兼容性问题，但是可以gpu加速，提高性能，js会损耗浏览器性能，单线程，可能造成阻塞、卡顿