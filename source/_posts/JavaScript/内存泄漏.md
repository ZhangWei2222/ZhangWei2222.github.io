---
title: 内存泄漏
date: 2019-08-30 11:25:47
categories:
- JavaScript
comments: false
---

## 定义

当已经不需要某块内存时这块内存还存在着

## 引起内存泄露的情况

虽然有垃圾回收机制，但是我们**编写代码操作不当**还是会造成内存泄漏

#### 1、全局变量
原因：全局变量，不会被回收

解决：

- 使用严格模式避免

- 使用闭包

- 使用唯一的全局变量进行管理

#### 2、闭包
原因：闭包可以维持函数内局部变量，使其得不到释放

解决：

- 将 事件处理函数 定义在外部，解除闭包

- 在定义 事件处理函数 的外部函数中，删除对dom的引用

#### 3、没有清理的DOM元素引用
原因：虽然别的地方删除了，但是对象中还存在对dom的引用

解决：手动删除

#### 4、被遗忘的定时器或者回调
原因：定时器中有dom的引用，即使dom删除了，但是定时器还在，所以内存中还是有这个dom

解决：手动删除定时器和dom

#### 5、子元素存在引用引起的内存泄漏
原因：div 间接引用 li，即使 li 被清空，也还是在内存中，并且只要 li 不被删除，他的父元素如 ul 都不会被删除

解决：手动删除清空