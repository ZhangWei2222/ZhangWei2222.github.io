---
title:  单页面应用与多页面应用
date: 2019-03-23 15:32:37
categories:
- 浏览器
comments: true
---



## 前言

单页面应用，多页面应用是什么？

<!-- more -->



## 单页面应用（SinglePage Application，SPA）

只有一张Web页面的应用，是一种从Web服务器加载的富客户端，单页面跳转仅刷新局部资源 ，公共资源(js、css等)仅需加载一次，常用于PC端官网、购物等网站

我们熟知的JS框架如`react`,`vue`,`angular`,`ember`都属于`SPA`



优点：

- 具有桌面应用的即时性、网站的可移植性和可访问性
- 用户体验好、快，内容的改变不需要重新加载整个页面
- 良好的前后端分离，分工更明确

缺点：

- 不利于搜索引擎的抓取
- 首次渲染速度相对较慢

![img](http://s3.mogucdn.com/mlcdn/c45406/190614_55h54gadel883ej2c0icjlkj0ad20_600x319.jpg)



## 多页面应用（MultiPage Application，MPA）

每个页面都是一个主页面，都是独立的

多页面跳转刷新所有资源，每个公共资源(js、css等)需选择性重新加载，常用于 app 或 客户端等

![img](http://s3.mogucdn.com/mlcdn/c45406/190614_43g28j5faieieel7c66lh8lj334b4_600x297.jpg)

## 区别

|  | 单页面应用（SPA）         |                   多页面应用（MPA）                  |
| :---------------- | :------------------------ | ----------------------------------- |
| 组成              | 一个主页面和多个页面片段  | 多个主页面                          |
| 刷新方式          | 局部刷新                  | 整页刷新                            |
| 资源加载 | 跳转仅刷新局部资源 ，公共资源仅需加载一次 | 跳转刷新所有资源，每个公共资源需选择性重新加载 |
| url模式           | 哈希模式                  | 历史模式                            |
| SEO搜索引擎优化   | 难实现，可使用SSR方式改善 | 容易实现                            |
| 数据传递          | 容易                      | 通过url、cookie、localStorage等传递 |
| 页面切换          | 速度快，用户体验良好      | 切换加载资源，速度慢，用户体验差    |
| 维护成本          | 相对容易                  | 相对复杂                            |



## 基于`Vue`的`SPA`实现`SEO`

### SSR服务端渲染

将组件或页面通过服务器生成html，再返回给浏览器，如`nuxt.js`



### 静态化

目前主流的URL静态化主要有两种：

1. 通过程序将动态页面抓取并保存为静态页面，这样的页面的实际存在于服务器的硬盘中

2. 通过WEB服务器的 `URL Rewrite`的方式，它的原理是把外部请求的静态地址转化为实际的动态页面地址，而静态页面实际是不存在的



### 使用`Phantomjs`针对爬虫处理

原理是通过`Nginx`配置，判断访问来源是否为爬虫，如果是则搜索引擎的爬虫请求会转发到一个`node server`，再通过`PhantomJS`来解析完整的`HTML`，返回给爬虫。

![图片](https://mmbiz.qpic.cn/mmbiz_png/gH31uF9VIibRn6WUr2qdZ0UawqAy3uQUmegbfCibibZQTzmqxSJTraTmY2KBWhL2Zkb93n7qiciaycUj29ff7kph3IA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
