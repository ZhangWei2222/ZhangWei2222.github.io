<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2" />






<meta name="description" content="Dream high">
<meta property="og:type" content="website">
<meta property="og:title" content="ZhangWei2222">
<meta property="og:url" content="http://super-wei.xyz/page/3/index.html">
<meta property="og:site_name" content="ZhangWei2222">
<meta property="og:description" content="Dream high">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZhangWei2222">
<meta name="twitter:description" content="Dream high">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://super-wei.xyz/page/3/"/>





  <title>ZhangWei2222</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ZhangWei2222</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/09/09/关于购物车添加按钮的动画/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/关于购物车添加按钮的动画/" itemprop="url">关于购物车添加按钮的动画</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-09T17:53:28+08:00">
                2017-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="html代码"><a href="#html代码" class="headerlink" title="html代码"></a>html代码</h2><ul>
<li>生成一个动画小球的div,并且生成五个小球,五个是为了生成一定数量的小球来作为操作使用,按照小球动画的速度,一般来说五个也可以保证有足够的小球数量来运行动画</li>
</ul>
<ul>
<li>动画的内容分别是外层和内层,外层控制动画小球的轨道和方向,内层控制动画小球的运行状态</li>
</ul>
<ul>
<li>动画使用vue的js钩子实现</li>
</ul>
<ul>
<li>因为小球动画只有一个方向(只执行单方向从上到下滚落),所以只用了before-enter,enter,after-enter</li>
</ul>
<ul>
<li><p>用v-show控制小球的可见性,在动画执行期间可见,其余时候隐藏</p>
<pre><code>&lt;div class=&quot;ball-container&quot;&gt;
  &lt;div v-for=&quot;ball in balls&quot;&gt;
  //用了两种方式的动画,css和js钩子
    &lt;transition name=&quot;drop&quot; @before-enter=&quot;beforeDrop&quot; @enter=&quot;dropping&quot; @after-enter=&quot;afterDrop&quot;&gt;
    //外层动画
      &lt;div class=&quot;ball&quot; v-show=&quot;ball.show&quot;&gt;
      //内层动画
        &lt;div class=&quot;inner inner-hook&quot;&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/transition&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre></li>
</ul>
<h2 id="js代码"><a href="#js代码" class="headerlink" title="js代码"></a>js代码</h2><ul>
<li>设置了balls数组来代表五个小球</li>
</ul>
<ul>
<li><p>设置了dropBalls数组正在运行的小球</p>
<pre><code>data(){
     return {
       balls: [
         {show: false},
         {show: false},
         {show: false},
         {show: false},
         {show: false}
       ],
       dropBalls: []
     }
   },
</code></pre></li>
</ul>
<ul>
<li>只要触发了drop事件,不止是drop事件里面的代码会执行,另外几个vue的js监听钩子也会一起按顺序执行</li>
</ul>
<pre><code>- 触发了drop事件


- beforeDrop开始执行


- dropping开始执行


- afterDrop开始执行
</code></pre><ul>
<li>drop事件的触发可以通过点击cartcontrol组件的添加小球按钮addCart事件触发使用$emit,也可以父组件 this.$refs.shopcart.drop(target);直接触发</li>
</ul>
<pre><code>- 这么做的目的是实现,在子组件cartcontrol点击之后,可以将该dom传给父组件goods然后再传给子组件shopcart,(因为目前他们之间的通道就是这样,shopcart子组件并没有导入cartcontrol子组件,所以没有直接通讯)这样就实现了多个组件之间的通讯,从而可以实现需求,例如这里就是实现点击子组件cartcontrol后添加一个动画,将小球滑落到另外一个组件shopcart
</code></pre><ul>
<li><p>$emit是触发当前实例上的事件。附加参数都会传给监听器回调。</p>
<pre><code>methods: {
      drop(el) { 
      //触发一次事件就会将所有小球进行遍历
        for (let i = 0; i &lt; this.balls.length; i++) {
          let ball = this.balls[i];
          if (!ball.show) { //将false的小球放到dropBalls
            ball.show = true;
            ball.el = el; //设置小球的el属性为一个dom对象
            this.dropBalls.push(ball); 
            return;
          }
        }
      },

      beforeDrop(el){ //这个方法的执行是因为这是一个vue的监听事件
        let count = this.balls.length;
        while (count--) {
          let ball = this.balls[count];
          if (ball.show) {
            let rect = ball.el.getBoundingClientRect(); //获取小球的相对于视口的位移(小球高度)
            let x = rect.left - 32;
            let y = -(window.innerHeight - rect.top - 22); //负数,因为是从左上角往下的的方向
            el.style.display = &apos;&apos;; //清空display
            el.style.webkitTransform = `translate3d(0,${y}px,0)`; 
            el.style.transform = `translate3d(0,${y}px,0)`;
            //处理内层动画
            let inner = el.getElementsByClassName(&apos;inner-hook&apos;)[0]; //使用inner-hook类来单纯被js操作
            inner.style.webkitTransform = `translate3d(${x}px,0,0)`;
            inner.style.transform = `translate3d(${x}px,0,0)`;
          }
        }
      },

      dropping(el, done) { //这个方法的执行是因为这是一个vue的监听事件
        /* eslint-disable no-unused-vars */
        let rf = el.offsetHeight; //触发重绘html
        this.$nextTick(() =&gt; { //让动画效果异步执行,提高性能
          el.style.webkitTransform = &apos;translate3d(0,0,0)&apos;;
          el.style.transform = &apos;translate3d(0,0,0)&apos;;
          //处理内层动画
          let inner = el.getElementsByClassName(&apos;inner-hook&apos;)[0]; //使用inner-hook类来单纯被js操作
          inner.style.webkitTransform = &apos;translate3d(0,0,0)&apos;;
          inner.style.transform = &apos;translate3d(0,0,0)&apos;;
          el.addEventListener(&apos;transitionend&apos;, done); //Vue为了知道过渡的完成，必须设置相应的事件监听器。
        });
      },

      afterDrop(el) { //这个方法的执行是因为这是一个vue的监听事件
        let ball = this.dropBalls.shift(); //完成一次动画就删除一个dropBalls的小球
        if (ball) {
          ball.show = false;
          el.style.display = &apos;none&apos;; //隐藏小球
        }
      }
    }
</code></pre></li>
</ul>
<ul>
<li>关于transitionend</li>
</ul>
<ul>
<li>关于drop方法,是实现每一个ball的show属性和el属性处理,并且点击一次会自动将一个小球放到dropBalls数组里面,放到里面就代表的是一个小球已经被开始执行动画,但是由于动画是异步的,所以先主动设置.</li>
</ul>
<ul>
<li>关于getBoundingClientRect(位移的计算是从左上角开始)</li>
</ul>
<pre><code>- 使用getBoundingClientRect获取到当前元素的坐标,然后需要位移的left减去元素的宽获取真正的最终位移x坐标


- 使用getBoundingClientRect获取到当前元素的坐标,然后需要当前屏幕的高度减去元素的top再减去元素本身的高度获取到真正的最终位移y坐标,并且这个是负数,因为是从左上角往下的方向
</code></pre><ul>
<li>关于html重绘</li>
</ul>
<pre><code>- 因为浏览器对于重绘是有要求并且是有队列完成的,这是主要为了性能,虽然动画隐藏了小球display none,但没有触发html重绘,或者说没有立即触发html重绘,所以需要手动


- let rf = el.offsetHeight; 这是一个手动触发html重绘的方法


- 网页性能管理详解


- 高性能JavaScript 重排与重绘
</code></pre><h2 id="css代码"><a href="#css代码" class="headerlink" title="css代码"></a>css代码</h2><pre><code>.ball-container
  .ball
    position: fixed //小球动画必须脱离html布局流
    left: 32px
    bottom: 22px
    z-index: 200 
    transition: all 0.4s cubic-bezier(0.49, -0.29, 0.75, 0.41)
    .inner
      width: 16px
      height: 16px
      border-radius: 50%
      background: rgb(0, 160, 220)
      transition: all 0.4s linear
</code></pre><ul>
<li>关于cubic-bezier(0.49, -0.29, 0.75, 0.41),是动画抛物曲线(贝塞尔曲线)的配置,基于css3实现,<a href="http://cubic-bezier.com/#.17,.67,.83,.67,参考贝塞尔曲线与CSS3动画、SVG和canvas的基情" target="_blank" rel="external">http://cubic-bezier.com/#.17,.67,.83,.67,参考贝塞尔曲线与CSS3动画、SVG和canvas的基情</a> ,至于抛物线放在外层就是为了控制内层的元素的轨道和方向的.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/09/09/头部组件header-vuee/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/头部组件header-vuee/" itemprop="url">头部组件header.vuee</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-09T17:53:02+08:00">
                2017-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>弹层制作 vue动画效果配置和弹层css sticky footer原理</li>
</ul>
<pre><code>- 使用css sticky footer技术


- vue的v-for遍历


- vue的v-show和事件监听


- vue动画处理
</code></pre><ul>
<li>header和公告栏制作</li>
</ul>
<pre><code>- text-overflow:ellipsis的使用


- font-size:0和vertical-align的使用


- mixin的运用 stylus相关和1像素边框问题


- 背景图片的虚化


- flex布局的使用
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/1878328557-5909e71ab2063_articlex.png" alt=""></p>
<h3 id="html部分"><a href="#html部分" class="headerlink" title="html部分"></a>html部分</h3><pre><code>&lt;template&gt;
  &lt;div class=&quot;header&quot;&gt;
    &lt;div class=&quot;content-wrapper&quot;&gt;
      &lt;div class=&quot;avatar&quot;&gt;
        &lt;img width=&quot;64&quot; height=&quot;64&quot; :src=&quot;seller.avatar&quot;&gt;
      &lt;/div&gt;
      &lt;div class=&quot;content&quot;&gt;
        &lt;div class=&quot;title&quot;&gt;
          &lt;span class=&quot;brand&quot;&gt;&lt;/span&gt;
          &lt;span class=&quot;name&quot;&gt;{{seller.name}}&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class=&quot;description&quot;&gt;
          {{seller.description}} / {{seller.deliveryTime}}分钟送达
        &lt;/div&gt;
        &lt;div v-if=&quot;seller.supports&quot; class=&quot;supports&quot;&gt;
        &lt;!--只列出第一个support的内容--&gt;
          &lt;span class=&quot;icon&quot; :class=&quot;classMap[seller.supports[0].type]&quot;&gt;&lt;/span&gt;
          &lt;span class=&quot;text&quot;&gt;{{seller.supports[0].description}}&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div v-if=&quot;seller.supports&quot; class=&quot;support-count&quot; @click=&quot;showDetail&quot;&gt;
        &lt;span class=&quot;count&quot;&gt;{{seller.supports.length}}个&lt;/span&gt;
        &lt;i class=&quot;icon-keyboard_arrow_right&quot;&gt;&lt;/i&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;!--绑定showDetail事件--&gt;
    &lt;div class=&quot;bulletin-wrapper&quot; @click=&quot;showDetail&quot;&gt;
      &lt;span class=&quot;bulletin-title&quot;&gt;&lt;/span&gt;&lt;span class=&quot;bulletin-text&quot;&gt;{{seller.bulletin}}&lt;/span&gt;
      &lt;i class=&quot;icon-keyboard_arrow_right&quot;&gt;&lt;/i&gt;
    &lt;/div&gt;
    &lt;div class=&quot;background&quot;&gt;
      &lt;img width=&quot;100%&quot; height=&quot;100%&quot; :src=&quot;seller.avatar&quot;&gt;
    &lt;/div&gt;
    &lt;!--这里使用了vue的动画配置transition--&gt;
    &lt;transition name=&quot;fade&quot;&gt;
      &lt;div v-show=&quot;detailShow&quot; class=&quot;detail&quot;&gt;
      &lt;!--使用clearfix这个class来做css sticky footer--&gt;
        &lt;div class=&quot;detail-wrapper clearfix&quot;&gt;
          &lt;div class=&quot;detail-main&quot;&gt;
            &lt;h1 class=&quot;name&quot;&gt;{{seller.name}}&lt;/h1&gt;
            &lt;div class=&quot;star-wrapper&quot;&gt;
            &lt;!--这里传值给star组件--&gt;
              &lt;star :size=&quot;48&quot; :score=&quot;seller.score&quot;&gt;&lt;/star&gt;
            &lt;/div&gt;
            &lt;div class=&quot;title&quot;&gt;
              &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
              &lt;div class=&quot;text&quot;&gt;优惠信息&lt;/div&gt;
              &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;!--列出全部的support的内容--&gt;
            &lt;ul v-if=&quot;seller.supports&quot; class=&quot;supports&quot;&gt;
              &lt;li class=&quot;support-item&quot; v-for=&quot;(item,index) in seller.supports&quot;&gt;
                &lt;span class=&quot;icon&quot; :class=&quot;classMap[seller.supports[index].type]&quot;&gt;&lt;/span&gt;
                &lt;span class=&quot;text&quot;&gt;{{seller.supports[index].description}}&lt;/span&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
            &lt;div class=&quot;title&quot;&gt;
              &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
              &lt;div class=&quot;text&quot;&gt;商家公告&lt;/div&gt;
              &lt;div class=&quot;line&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;bulletin&quot;&gt;
              &lt;p class=&quot;content&quot;&gt;{{seller.bulletin}}&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;!--绑定hideDetail事件--&gt;
        &lt;div class=&quot;detail-close&quot; @click=&quot;hideDetail&quot;&gt;
          &lt;i class=&quot;icon-close&quot;&gt;&lt;/i&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/transition&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre><h2 id="js部分"><a href="#js部分" class="headerlink" title="js部分"></a>js部分</h2><ul>
<li><p>星星组件参看:star.vue</p>
<pre><code>&lt;script&gt;
  import star from &apos;../star/star.vue&apos;; //导入星星组件

  export default{
    props: {
      seller: { //将seller对象传给组件
        type: Object //这是vue的prop验证属性的写法
      }
    },
    data(){
      return { //设置一个变量来控制显示隐藏,vue直接会关联到dom
        detailShow: false 
      }
    },
    methods: {
      showDetail(){
        this.detailShow = true;  //变量控制显示公告详情页
      }
    },
    created(){ //主要看这个classMap
      this.classMap = [&apos;decrease&apos;, &apos;discount&apos;, &apos;special&apos;, &apos;invoice&apos;, &apos;guarantee&apos;];
    },
    components: {
      &apos;star&apos;: star
    }
  }
&lt;/script&gt;
</code></pre></li>
</ul>
<p>这里需要注意的是:</p>
<blockquote>
<p>使用一个classMap的映射方法来实现数字和类型之间的转换</p>
</blockquote>
<p>元数据supports是一个数组:</p>
<pre><code>&quot;supports&quot;: [
      {
        &quot;type&quot;: 0,
        &quot;description&quot;: &quot;在线支付满28减5&quot;
      },
      {
        &quot;type&quot;: 1,
        &quot;description&quot;: &quot;VC无限橙果汁全场8折&quot;
      },
      {
        &quot;type&quot;: 2,
        &quot;description&quot;: &quot;单人精彩套餐&quot;
      },
      {
        &quot;type&quot;: 3,
        &quot;description&quot;: &quot;该商家支持发票,请下单写好发票抬头&quot;
      },
      {
        &quot;type&quot;: 4,
        &quot;description&quot;: &quot;已加入“外卖保”计划,食品安全保障&quot;
      }
    ],
</code></pre><p>然后页面需要根据不同的type来显示不同的description,并且还要显示不同的图片</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/551996820-5909e7e2c07dd_articlex.png" alt=""></p>
<p>这就需要做一个关联,将数组的值跟图片关联起来,而图片的关联是根据class来识别的,从而可以实现数组的方式来调用对应的图片.</p>
<pre><code>&lt;!--这是css里面的--&gt;
            &amp;.decrease
              bg-image(&apos;decrease_1&apos;)
            &amp;.discount
              bg-image(&apos;discount_1&apos;)
            &amp;.guarantee
              bg-image(&apos;guarantee_1&apos;)
            &amp;.invoice
              bg-image(&apos;invoice_1&apos;)
            &amp;.special
              bg-image(&apos;special_1&apos;)
</code></pre><p>通过做一个对应关系</p>
<pre><code>this.classMap = [&apos;decrease&apos;, &apos;discount&apos;, &apos;special&apos;, &apos;invoice&apos;, &apos;guarantee&apos;];
//classMap数组的顺序就对应supports数组的顺序
//例如supports数组的第一个元素就对应decrease,而decrease又对应到.decrease的class
classMap[seller.supports[0].type] //seller.supports[0].type就是0,然后classMap的第0个就是decrease,就能够指向到.decrease
</code></pre><p>这里只需要用数组第一个元素即可</p>
<pre><code>&lt;div v-if=&quot;seller.supports&quot; class=&quot;supports&quot;&gt;
    &lt;span class=&quot;icon&quot; :class=&quot;classMap[seller.supports[0].type]&quot;&gt;&lt;/span&gt;
    &lt;span class=&quot;text&quot;&gt;{{seller.supports[0].description}}&lt;/span&gt;
&lt;/div&gt;
</code></pre><p>这里是用到全部的元素</p>
<pre><code>&lt;ul v-if=&quot;seller.supports&quot; class=&quot;supports&quot;&gt;
    &lt;li class=&quot;support-item&quot; v-for=&quot;(item,index) in seller.supports&quot;&gt;
        &lt;span class=&quot;icon&quot; :class=&quot;classMap[seller.supports[index].type]&quot;&gt;&lt;/span&gt;
        &lt;span class=&quot;text&quot;&gt;{{seller.supports[index].description}}&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</code></pre><h3 id="css部分"><a href="#css部分" class="headerlink" title="css部分"></a>css部分</h3><ul>
<li>考虑到行内元素的不一致的对齐,需要大量使用line-height和vertical-align</li>
</ul>
<ul>
<li>font-size为0,为了去掉行内元素的间隙,这个可以继承,所以需要在子孙元素里面再单独设置font-size</li>
</ul>
<ul>
<li>对于text-overflow:ellipsis的长度取决于块的长度</li>
</ul>
<ul>
<li><span class="bulletin-title" \=""><span class="bulletin-text" \=""> 用合并代替换行来取消多余字符,这种情况也是可以避免设置font-size为0</span></span></li>
</ul>
<ul>
<li>使用vertical-align :top之后还需要margin-top :7px,在没办法完全对齐的情况下使用</li>
</ul>
<ul>
<li>clearfix的css sticky footer部分需要参看:vue动画效果配置和弹层css sticky footer原理</li>
</ul>
<pre><code>&lt;style lang=&quot;stylus&quot; rel=&quot;stylesheet/stylus&quot;&gt;
  @import &quot;../../common/stylus/mixin.styl&quot; //导入minxin

  .header
    position relative //这里的相对定位是为了让下面的绝对定位做参考
    overflow: hidden
    color: #ffffff
    background: rgba(7, 17, 27, 0.5)
    .content-wrapper
      padding: 24px 12px 18px 24px
      font-size: 0 //这里为0是为了去掉行内元素的间隙,这个可以继承,所以需要在子孙元素里面再单独设置font-size
      position: relative //这里的相对定位是为了让下面的绝对定位做参考
      .avatar
        display: inline-block
        vertical-align: top
        img
          border-radius: 2px
      .content
        display: inline-block
        margin-left: 16px
        .title
          margin: 2px 0 8px 0
          .brand
            display: inline-block
            vertical-align: top
            width: 30px
            height: 18px
            bg-image(&apos;brand&apos;) //这里使用了一个图片的mixin
            background-size: 30px 18px
            background-repeat: no-repeat
          .name
            margin-left: 6px
            font-size: 16px
            line-height: 18px
            font-weight: bold
        .description
          margin-bottom: 10px
          line-height: 12px
          font-size: 12px
        .supports
          .icon
            display: inline-block
            vertical-align: top
            width: 12px
            height: 12px
            margin-right: 4px
            background-size: 12px 12px
            background-repeat: no-repeat
            &amp;.decrease //这里就是配合classMap进行图片切换的
              bg-image(&apos;decrease_1&apos;) //这是图片的mixin,在mixin.styl里面可以看到
            &amp;.discount
              bg-image(&apos;discount_1&apos;)
            &amp;.guarantee
              bg-image(&apos;guarantee_1&apos;)
            &amp;.invoice
              bg-image(&apos;invoice_1&apos;)
            &amp;.special
              bg-image(&apos;special_1&apos;)
          .text
            line-height: 12px
            font-size: 10px
      .support-count
        position: absolute
        right: 12px
        bottom: 14px
        padding: 0 8px
        height: 24px
        line-height: 24px
        border-radius: 14px
        background: rgba(0, 0, 0, 0.2)
        text-align: center
        .count
          vertical-align: top //考虑到行内元素的不一致的对齐,需要大量使用line-height和vertical-align
          font-size: 10px
        .icon-keyboard_arrow_right
          margin-left: 2px
          line-height: 24px
          font-size: 10px
    .bulletin-wrapper
      position: relative //做相对定位,给icon-keyboard_arrow_right绝对定位做参照
      height: 28px
      line-height: 28px
      padding: 0 22px 0 12px
      white-space: nowrap
      overflow: hidden
      text-overflow: ellipsis //这里是字数太长的省略处理
      background: rgba(7, 17, 27, 0.2)
      .bulletin-title
        display: inline-block
        vertical-align: top
        margin-top: 8px
        width: 22px
        height: 12px
        bg-image(&apos;bulletin&apos;)
        background-size: 22px
      .bulletin-text
        vertical-align: top
        margin: 0 4px
        font-size: 10px
        font-weight: 200
      .icon-keyboard_arrow_right
        position: absolute
        font-size: 10px
        right: 12px
        top: 8px
    .background //这里使用的是图片做背景,所以需要做下面这些处理
      position absolute //背景图片需要绝对定位
      top: 0 //设置位置
      left: 0
      width: 100% //设置大小
      height: 100%
      z-index: -1 //将背景图片设置里层,避免突出位置看到外露部分
      filter: blur(10px) //背景图片虚化
    .detail
      position: fixed //弹出层,所以用fixed
      z-index: 100 //需要设置z-index保持一定的高度
      top: 0
      left: 0
      width: 100%
      height: 100%
      overflow: auto //加overflow hidden来把多余的背景阴影去掉
      opacity: 1 //这是动画设置
      background: rgba(7, 17, 27, 0.8)
      &amp;.fade-enter-active, &amp;.fade-leave-active //vue的动画需要参考vue动画配置理解
        transition: all 0.5s
      &amp;.fade-enter, &amp;.fade-leave-active
        opacity: 0
        background: rgba(7, 17, 27, 0)
      .detail-wrapper
        width: 100%
        min-height: 100% //因为不知道有多少内容,所以用min-height
        .detail-main
          margin-top: 64px
          padding-bottom: 64px //预留下面close按钮的位置,所以下内边距顶起
          .name
            line-height: 16px
            text-align: center
            font-size: 16px
            font-weight: 700
          .star-wrapper
            margin-top: 18px
            padding: 2px 0
            text-align center
          .title
            display: flex //使用flex布局等分详情页优惠界面
            width: 80%
            margin: 28px auto 24px auto
            .line
              flex: 1 //使用1的比例的flex块
              position: relative //这里使用相对布局加top对齐,可以也可以margin-bottom
              top: -6px
              border-bottom: 1px solid rgba(255, 255, 255, 0.2) //使用border生成线,因为使用的是div
            .text
              padding: 0 12px
              font-size: 14px
              font-weight 700
          .supports
            width: 80%
            margin: 0 auto
            .support-item
              padding: 0 12px
              margin-bottom: 12px
              font-size: 0
              &amp;:last-child
                margin-bottom: 0
              .icon
                display: inline-block
                width: 16px
                height: 16px
                vertical-align: top
                margin-right: 6px
                background-size: 16px 16px
                background-repeat: no-repeat
                //通过对应不同的class来对应不同的图片
                &amp;.decrease
                  bg-image(&apos;decrease_2&apos;)
                &amp;.discount
                  bg-image(&apos;discount_2&apos;)
                &amp;.guarantee
                  bg-image(&apos;guarantee_2&apos;)
                &amp;.invoice
                  bg-image(&apos;invoice_2&apos;)
                &amp;.special
                  bg-image(&apos;special_2&apos;)
              .text
                line-height: 16px
                font-size: 12px
          .bulletin
            width: 80%
            margin: 0 auto
            .content
              padding: 0 12px
              line-height: 24px
              font-size: 12px
      .detail-close
        position: relative
        width: 32px
        height: 32px
        margin: -64px auto 0 auto //使用之前预留了的位置
        clear: both
        font-size: 32px
&lt;/style&gt;
</code></pre><p>备注:</p>
<ol>
<li>text-overflow :ellipsis显示在底部.不是中间,是浏览器的显示处理不同关于文字内容溢出用点点点-省略号表示</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/09/09/星星组件star-vue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/星星组件star-vue/" itemprop="url">星星组件star.vue</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-09T17:52:39+08:00">
                2017-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>整个流程是:</p>
<ol>
<li>绑定星星类型的class(48,36,24尺寸),使用starType</li>
<li>使用class来显示星星,有3种类型,全星,半星,无星,使用star-item代表星星本身,然后分别使用on,off,half代表三种不同类型的星星</li>
<li>一个span代表一个星星项目,并且使用v-for循环将星星项目输出</li>
</ol>
<p>组合出来的星星html就类似这样</p>
<pre><code>&lt;div class=&quot;star star-48&quot;&gt;
&lt;span class=&quot;star-item on&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;star-item on&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;star-item on&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;star-item on&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;star-item half&quot;&gt;&lt;/span&gt;
&lt;/div&gt;
</code></pre><h3 id="html部分"><a href="#html部分" class="headerlink" title="html部分"></a>html部分</h3><pre><code>&lt;template&gt;
  &lt;div class=&quot;star&quot; :class=&quot;starType&quot;&gt;
    &lt;span v-for=&quot;itemClass in itemClasses&quot; :class=&quot;itemClass&quot; class=&quot;star-item&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre><h3 id="js部分"><a href="#js部分" class="headerlink" title="js部分"></a>js部分</h3><ul>
<li>设置常量是为了方便解耦</li>
</ul>
<ul>
<li>星星计算比较巧妙(根据分数转换为星星数)</li>
</ul>
<pre><code>- 对于分数score进行2然后向下取整,然后再除以2,是为了获取所有星星的数量,并且这个数量是0.5倍数的,例如4.6 2就是9.2,然后向下取整是9,然后再除以2就是4.5,那么就可以得到一个0.5倍数的星星数,可以转换为4个全星+一个半星


- 对于非整数的星星算作是半个星星,需要知道是否有存在这种情况,所以分数score%1 ,例如8 % 1是0, 8.5 % 1就不是0,并且这个半星只会出现一次,因为半星状态就只要一个


- 没有星星的部分是要补全的,这里使用while循环来处理这种情况

        &lt;script&gt;
          //设置常量
          const LENGTH = 5;
          const CLS_ON = &apos;on&apos;;
          const CLS_HALF = &apos;half&apos;;
          const CLS_OFF = &apos;off&apos;;

          export default{
            props: {
              size: { //传入的size变量
                type: Number //设置变量类型
              },
              score: { //传入的score变量
                type: Number
              }
            },
            computed: {
              starType(){ //通过计算属性,返回组装过的类型,用来对应class类型
                return &apos;star-&apos; + this.size;
              },
              itemClasses(){
                let result = []; //返回的是一个数组,用来遍历输出星星
                let score = Math.floor(this.score * 2) / 2; //计算所有星星的数量
                let hasDecimal = score % 1 !== 0; //非整数星星判断
                let integer = Math.floor(score); //整数星星判断
                for (let i = 0; i &lt; integer; i++) { //整数星星使用on
                  result.push(CLS_ON);//一个整数星星就push一个CLS_ON到数组
                }
                if (hasDecimal) { //非整数星星使用half
                  result.push(CLS_HALF);//类似
                }
                while (result.length &lt; LENGTH) { //余下的用无星星补全,使用off
                  result.push(CLS_OFF);//类似
                }
                return result;
              }
            }
          }
        &lt;/script&gt;
</code></pre><h3 id="css部分"><a href="#css部分" class="headerlink" title="css部分"></a>css部分</h3><ul>
<li>引入mixin.styl是为了使用bg-image的mixin,因为之前做了一个mixin是专门处理2x和3x图片的转换</li>
</ul>
<ul>
<li>因为这里有3种类型的星星图片,分别是48尺寸,36尺寸,24尺寸,所以对于每一个类别的图片分别使用一种class做对应</li>
</ul>
<ul>
<li><p>每一种星星的尺寸都是有一种相对应的图片的,例如48尺寸的星星就会有,并且图片放在相对应的vue文件目录下</p>
<pre><code>star48_half@2x.png
star48_half@3x.png
star48_off@2x.png
star48_off@3x.png
star48_on@2x.png
star48_on@3x.png
</code></pre></li>
</ul>
<hr>
<pre><code>&lt;style lang=&quot;stylus&quot; rel=&quot;stylesheet/stylus&quot;&gt;
  @import &quot;../../common/stylus/mixin.styl&quot; //引入mixin文件

  .star
    .star-item
      display: inline-block
      background-repeat: no-repeat
    &amp;.star-48 //48尺寸的星星
      .star-item //每一个星星的基本css信息
        width: 20px
        height: 20px
        margin-right: 22px //每一个星星dom都有外边距
        background-size: 20px 20px
        &amp;:last-child //最后一个的外边距就是0
          margin-right: 0
        &amp;.on //全星状态的class
          bg-image(&apos;star48_on&apos;)
        &amp;.half //半星状态的class
          bg-image(&apos;star48_half&apos;)
        &amp;.off //无星状态的class
          bg-image(&apos;star48_off&apos;)
    &amp;.star-36
      .star-item
        width: 15px
        height: 15px
        margin-right: 6px
        background-size: 15px 15px
      &amp;:last-child
        margin-right: 0
      &amp;.on
        bg-image(&apos;star36_on&apos;)
      &amp;.half
        bg-image(&apos;star36_half&apos;)
      &amp;.off
        bg-image(&apos;star36_off&apos;)
    &amp;.star-24
      .star-item
        width: 10px
        height: 10px
        margin-right: 3px
        background-size: 10px 10px
      &amp;:last-child
        margin-right: 0
      &amp;.on
        bg-image(&apos;star24_on&apos;)
      &amp;.half
        bg-image(&apos;star24_half&apos;)
      &amp;.off
        bg-image(&apos;star24_off&apos;)
&lt;/style&gt;
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/09/09/stylus相关和1像素边框问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/stylus相关和1像素边框问题/" itemprop="url">stylus相关和1像素边框问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-09T17:52:19+08:00">
                2017-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1像素边框问题"><a href="#1像素边框问题" class="headerlink" title="1像素边框问题"></a>1像素边框问题</h2><p>1像素边框问题其实就是Dpr的比例问题,例如 Retina屏设置1px边框，实际显示2px,因为Dpr是2,所以会显示为2px</p>
<p>目前这里用的是伪元素 + transform 实现:</p>
<p>伪元素:总结伪类与伪元素</p>
<pre><code>::after 在某元素之后插入某些内容
::before 在某元素之前插入某些内容
</code></pre><blockquote>
<p>原理是利用 :before 或者 :after 重做 border,并且根据媒体查询设置不同的缩放比例(transform 的 scale)<br>具体操作会在stylus里面实现</p>
</blockquote>
<h2 id="stylus相关"><a href="#stylus相关" class="headerlink" title="stylus相关"></a>stylus相关</h2><ul>
<li>使用stylus的写法,通过缩进表示层次与嵌套关系</li>
</ul>
<pre><code>- 使用mixins方法来更方便的组件化css,相关写法可以参考:官网的mixins
</code></pre><p>创建/sell/src/common/stylus这个目录,用来存放stylus相关的文件</p>
<pre><code>src/common/stylus
├── base.styl
├── icon.styl
├── index.styl
└── mixin.styl
</code></pre><p>以下分别是四个文件的代码(名字只是为了区分不同的作用):</p>
<h3 id="base-styl"><a href="#base-styl" class="headerlink" title="base.styl"></a>base.styl</h3><pre><code>&lt;!--这里是对于使用reset.css之后的一些自定义的默认的css初始化--&gt;
&lt;!--字体是一些移动端比较流行的字体,所以这里使用--&gt;
&lt;!--其他都是为了方便开发,避免css的属性继承影响模块的代码--&gt;
body, html
  line-height: 1
  font-weight: 200
  &lt;!--设置一些移动端的常用的字体--&gt;
  font-family: &apos;PingFang SC&apos;, &apos;STHeitiSc-Light&apos;, &apos;Helvetica-Light&apos;, Arial, sans-serif
&lt;!--根据媒体查询@media设置不同的缩放比例(transform 的 scale)来修复1像素边框的问题--&gt;
@media (-webkit-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)
  .border-1px
  &lt;!--使用伪元素::after--&gt; 
    &amp;::after 
    &lt;!--dpr是1.5的时候缩放0.7倍--&gt;
      -webkit-transform: scaleY(0.7) 
      transform: scaleY(0.7)

@media (-webkit-min-device-pixel-ratio: 2),(min-device-pixel-ratio: 2)
  .border-1px
    &amp;::after
    &lt;!--dpr是2的时候缩放0.5倍--&gt;
      -webkit-transform: scaleY(0.5) 
      transform: scaleY(0.5)
</code></pre><ul>
<li>这里的修复1像素边框问题会拆分为2个部分,一个部分是这里的base.styl里面处理缩放,另外一部分是在mixin.styl里面处理重做border</li>
</ul>
<ul>
<li>这里是一个base模块文件,只保留了基本的共用的css,需要结合其他的css文件(stylus)来合并理解</li>
</ul>
<ul>
<li>dpr一般是1或者2,1.5只是为了更精细的去适配1和2之间的手机型号</li>
</ul>
<h3 id="mixin-styl"><a href="#mixin-styl" class="headerlink" title="mixin.styl"></a>mixin.styl</h3><pre><code>//这里是负责1像素边框问题
border-1px($color) //stylus的mixins语法支持传入变量
  position: relative //创建相对定位布局,为after和before的border的绝对布局做定位
  &amp;::after //使用伪元素::after,在元素之后插入内容
    display: block
    position: absolute
    left: 0
    bottom: 0
    width: 100% //需要横向撑开边框宽度
    border-top: 1px solid $color //因为是在元素之后插入,所以是用上边框
    content: &apos; &apos; //after或者before使用的时候,不传入东西也要填一个空字符串

//这里是负责图片的不同dpr下显示高清问题
bg-image($url) //这是图片的mixin,也是类似,不过这里是图片根据dpr来进行适配
  background-image: url($url + &quot;@2x.png&quot;)
  @media (-webkit-min-device-pixel-ratio: 3),(min-device-pixel-ratio: 3)
    background-image: url($url + &quot;@3x.png&quot;)
</code></pre><ul>
<li>这里的border-1px($color) 就是真正处理1像素边框问题的关键,通过伪元素after重做border,并且支持传入颜色变了$color来自定义颜色</li>
</ul>
<ul>
<li>这里的bg-image($url) 是负责处理图片在不同dpr下显示的问题,原来跟1像素边框问题差不多,不过这里不需要重做,只是根据不同的media query来调用不同的图片显示,而这些图片是需要放在相对于的文件夹的,在这个项目的话,是放在.vue文件的文件夹下.</li>
</ul>
<h3 id="icon-styl"><a href="#icon-styl" class="headerlink" title="icon.styl"></a>icon.styl</h3><p>这个其实是用icomoon生成的icon样式文件,通过将小图片转为字体,然后通过css样式调用,这样做的目的可以减少小图片的http请求,也方便管理和使用这些小图片,例如可以直接使用某个图片的class就可以调用该图片</p>
<pre><code>&lt;!--这个其实就是之前图标字体生成的css文件改过来的--&gt;
&lt;!--因为使用webpack打包的关系,需要修改一下url路径,这个按照当前目录查找到文件就可以了--&gt;
@font-face
  font-family: &apos;sell-ico&apos;
  src: url(&apos;../fonts/sell-ico.eot?gr00o7&apos;)
  src: url(&apos;../fonts/sell-ico.eot?gr00o7#iefix&apos;) format(&apos;embedded-opentype&apos;),
    url(&apos;../fonts/sell-ico.ttf?gr00o7&apos;) format(&apos;truetype&apos;),
    url(&apos;../fonts/sell-ico.woff?gr00o7&apos;) format(&apos;woff&apos;),
    url(&apos;../fonts/sell-ico.svg?gr00o7#sell-ico&apos;) format(&apos;svg&apos;)
  font-weight: normal
  font-style: normal

[class^=&quot;icon-&quot;], [class*=&quot; icon-&quot;]
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: &apos;sell-ico&apos; !important
  speak: none
  font-style: normal
  font-weight: normal
  font-variant: normal
  text-transform: none
  line-height: 1

  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased
  -moz-osx-font-smoothing: grayscale

.icon-arrow_lift:before
  content: &quot;\e900&quot;

.icon-thumb_up:before
  content: &quot;\e901&quot;

.icon-thumb_down:before
  content: &quot;\e902&quot;

.icon-shopping_cart:before
  content: &quot;\e903&quot;

.icon-favorite:before
  content: &quot;\e904&quot;

.icon-check_circle:before
  content: &quot;\e905&quot;

.icon-close:before
  content: &quot;\e906&quot;

.icon-remove_circle_outline:before
  content: &quot;\e907&quot;

.icon-add_circle:before
  content: &quot;\e908&quot;

.icon-keyboard_arrow_right:before
  content: &quot;\e909&quot;
</code></pre><h3 id="index-styl"><a href="#index-styl" class="headerlink" title="index.styl"></a>index.styl</h3><p>使用一个主的styl来包含所有的stylus文件</p>
<pre><code>@import &quot;./icon&quot; 
@import &quot;./mixin&quot;
@import &quot;./base&quot;
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/09/09/vue动画效果配置和弹层css-sticky-footer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/vue动画效果配置和弹层css-sticky-footer/" itemprop="url">vue动画效果配置和弹层css sticky footer</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-09T17:51:56+08:00">
                2017-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="vue动画效果配置"><a href="#vue动画效果配置" class="headerlink" title="vue动画效果配置"></a>vue动画效果配置</h2><p>有两种方式:</p>
<ul>
<li>一种是css方式</li>
</ul>
<p>需要注意 4 个(CSS)类名在 enter/leave 的过渡中切换:</p>
<ol>
<li>v-enter: 定义进入过渡的开始状态。在元素被插入时生效，在下一个帧移除。</li>
<li>v-enter-active: 定义进入过渡的结束状态。在元素被插入时生效，在 transition/animation 完成之后移除。</li>
<li>v-leave: 定义离开过渡的开始状态。在离开过渡被触发时生效，在下一个帧移除。</li>
<li>v-leave-active: 定义离开过渡的结束状态。在离开过渡被触发时生效，在 transition/animation 完成之后移除。</li>
</ol>
<p>一般的使用方式是:<br>在html里面用transition包裹起来,然后建立一个name,这个name对应css的class名字的前缀,例如这里name是fade,class就是fade前缀命名</p>
<p>html代码</p>
<pre><code>&lt;transition name=&quot;fade&quot;&gt;
&lt;/transition&gt;
</code></pre><p>css代码</p>
<pre><code>&amp;.fade-enter-active, &amp;.fade-leave-active
&amp;.fade-enter, &amp;.fade-leave-active
</code></pre><blockquote>
<p>总的来说:在enter里面会代表状态从没有到有的变化,在leave里面会代表状态从有到没有的变化,在使用的时候可以按照需要使用,需要考虑好动画的变化再开始写代码</p>
</blockquote>
<ul>
<li><p>一种是js钩子的方式</p>
<pre><code>methods: {
  // --------
  // 进入中
  // --------
  beforeEnter: function (el) {
    // ...
  },
  // 此回调函数是可选项的设置
  // 与 CSS 结合时使用
  enter: function (el, done) {
    // ...
    done()
  },
  afterEnter: function (el) {
    // ...
  },
  enterCancelled: function (el) {
    // ...
  },
  // --------
  // 离开时
  // --------
  beforeLeave: function (el) {
    // ...
  },
  // 此回调函数是可选项的设置
  // 与 CSS 结合时使用
  leave: function (el, done) {
    // ...
    done()
  },
  afterLeave: function (el) {
    // ...
  },
  // leaveCancelled 只用于 v-show 中
  leaveCancelled: function (el) {
    // ...
  }
}
</code></pre></li>
</ul>
<p>一般的使用方式是</p>
<pre><code>&lt;transition @before-enter=&quot;beforeDrop&quot; @enter=&quot;dropping&quot; @after-enter=&quot;afterDrop&quot;&gt;
&lt;/transition&gt;
</code></pre><p>通过绑定js方法来实现</p>
<blockquote>
<p>总的来说:js钩子会更加细腻,会在变化的过程中也加入一个钩子管理变化,其他跟css方式动画差不多</p>
</blockquote>
<h2 id="弹层和css-sticky-footer原理"><a href="#弹层和css-sticky-footer原理" class="headerlink" title="弹层和css sticky footer原理"></a>弹层和css sticky footer原理</h2><p>css sticky footer解释:如果页面内容不够长的时候，页脚块粘贴在视窗底部；如果内容足够长时，页脚块会被内容向下推送。</p>
<blockquote>
<p>这里主要使用clearfix这个类的伪类来完成.</p>
</blockquote>
<p>原理简述如下:</p>
<ul>
<li>在IE6, 7下zoom: 1会触发hasLayout，从而使元素闭合内部的浮动。</li>
</ul>
<ul>
<li>在标准浏览器下，.clearfix:after这个伪类会在应用到.clearfix的元素后面插入一个clear: both的块级元素，从而达到清除浮动的作用。</li>
</ul>
<ul>
<li>在需要清除浮动的时候，只要写一个.clearfix就行了，然后在需要清浮动的元素中 添加clearfix类名就好了</li>
</ul>
<ul>
<li>防止Collapsing margins(外边距折叠)</li>
</ul>
<ul>
<li>保证跨浏览器的兼容性</li>
</ul>
<p>相关代码如下:</p>
<pre><code>.clearfix:before, clearfix:after {
    content: &quot;.&quot;;   
    display: block;   
    clear: both;     
    visibility: hidden;
    line-height: 0;    //行高为0
    height: 0;     //高度为0
    font-size:0;    //字体大小为0
}

.clearfix { *zoom:1;}   //这是针对于IE6的，因为IE6不支持:after伪类，这个神奇的zoom:1让IE6的元素可以清除浮动来包裹内部元素。
</code></pre><p>备注:</p>
<ul>
<li>zoom: 1 为了兼容 IE6/7,在IE6, 7下zoom: 1会触发hasLayout，从而使元素闭合内部的浮动。</li>
</ul>
<ul>
<li>:before 用来防止 top-margin collapse 和保证当 IE6/7 应用 zoom:1 时的是视觉一致性</li>
</ul>
<ul>
<li>:after 用来清除浮动</li>
</ul>
<pre><code>- visibility: hidden 可见度设为隐藏。注意它和display:none;是有区别的。visibility:hidden;仍然占据空间，只是看不到而已


- clear: both 清除左右两边浮动


- display: block需要将元素转为块级元素才可以实现效果,inline-block也可以


- content: &quot;.&quot; 内容为“.”就是一个英文的句号而已。也可以不写。


- line-height: 0行高为0,设置这些主要是为了避免一些占用位置或者间隔的问题


- height: 0高度为0,同上


- font-size:0 字体大小为0,同上
</code></pre><blockquote>
<p>另外需要注意的是避免Collapsing margins(外边距压扁)<br>有两种情况会引起 Collapsing margin:</p>
<ul>
<li>父子元素(不一定是直接父子)之间会发生 margin-top 和 margin-bottom 的折叠 (如果之间没有 border、padding、inlne-content、height、min-height、max-height 分割的话)</li>
</ul>
<ul>
<li>邻近元素同时设置margin,前面的margin-bottom 和后面的margin-top融合取最大的</li>
</ul>
<p>所以这里能够实现避免Collapsing margins是因为</p>
<ul>
<li>父子的话,给父元素添加.clearfix</li>
</ul>
<ul>
<li>紧邻的话,给前一个元素添加.clearfix<br>这样主要利用 :before psudo-element 给元素内部前面添加一个空的元素 display:block 保证它是一个BFC(BFC可以隔断外边距折叠)</li>
</ul>
</blockquote>
<h3 id="课程里面使用"><a href="#课程里面使用" class="headerlink" title="课程里面使用"></a>课程里面使用</h3><p>因为clearfix是一个比较常用的class,所以在base.styl里面添加,方便其他组件调用</p>
<pre><code>.clearfix
  display: inline-block
  &amp;:before, &amp;:after
    contain: &apos;&apos;
    height: 0
    line-height: 0
    clear: both
    visibility: hidden
</code></pre><blockquote>
<p>这里没有去兼容ie6,7,因为移动端基本不包含这些浏览器<br>使用inline-block是因为做的是行内块处理</p>
</blockquote>
<p>在Header.vue里面使用</p>
<pre><code>&lt;div class=&quot;detail&quot;&gt;
  &lt;div class=&quot;detail-wrapper clearfix&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;detail-close&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre><ul>
<li>先用一个div包裹其需要做css sticky的内容,如detail的div</li>
</ul>
<ul>
<li>然后footer是detail-close按钮,而需要显示并且要持续撑开的内容块是detail-wrapper,那么在detail-wrapper上添加一个clearfix 的class,就会在这个元素后面使用after的伪类生成内容,从而不断推开footer</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/09/09/饿了么教程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/饿了么教程/" itemprop="url">饿了么教程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-09T17:51:19+08:00">
                2017-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h1><h3 id="1-需求分析"><a href="#1-需求分析" class="headerlink" title="1.需求分析"></a>1.需求分析</h3><p><img src="http://oncweb6po.bkt.clouddn.com/%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90.png" alt=""></p>
<h3 id="2-项目资源准备"><a href="#2-项目资源准备" class="headerlink" title="2.项目资源准备"></a>2.项目资源准备</h3><p>resource文件</p>
<h3 id="3-图标字体制作"><a href="#3-图标字体制作" class="headerlink" title="3.图标字体制作"></a>3.图标字体制作</h3><p>在iconmoon<a href="https://icomoon.io/" target="_blank" rel="external">https://icomoon.io/</a>将resource中的svg文件转为font</p>
<h3 id="4-项目目录设计"><a href="#4-项目目录设计" class="headerlink" title="4.项目目录设计"></a>4.项目目录设计</h3><ol>
<li>vue init webpack 项目名字</li>
<li>cd 文件</li>
<li>npm install</li>
<li>npm run dev</li>
</ol>
<ul>
<li>删除src中asset文件夹<br>  -直接删除会报错，需要把vue.vue中的图片引入注释掉 </li>
<li>创建common文件夹<ul>
<li>创建font文件夹（将前面下载的字体打包中的font移入）</li>
<li>创建js文件夹</li>
<li>创建stylus文件夹（将前面下载的字体打包中的css移入，并改名为icon.styl）</li>
</ul>
</li>
<li>在components中创建header文件夹，文件夹中创建header.vue</li>
</ul>
<h3 id="5-mock数据（模拟后台数据）"><a href="#5-mock数据（模拟后台数据）" class="headerlink" title="5.mock数据（模拟后台数据）"></a>5.mock数据（模拟后台数据）</h3><ol>
<li>在根目录下引入data文件</li>
<li><p>在/build/dev-server.js中</p>
<pre><code>var app = express()

var appData = require(&apos;../data.json&apos;);
var seller = appData.seller;
var goods = appData.goods;
var ratings = appData.ratings;

var apiRoutes = express.Router();

apiRoutes.get(&apos;/seller&apos;,function(req,res){
  res.json({
    erron: 0,
    data : seller
  });
});

apiRoutes.get(&apos;/goods&apos;,function(req,res){
  res.json({
    erron: 0,
    data : goods
  });
});

apiRoutes.get(&apos;/ratings&apos;,function(req,res){
  res.json({
    erron: 0,
    data : ratings
  });
});

app.use(&apos;/api&apos;,apiRoutes);
</code></pre></li>
</ol>
<p>在网址后面加上/api/seller检查</p>
<h1 id="二、页面骨架开发"><a href="#二、页面骨架开发" class="headerlink" title="二、页面骨架开发"></a>二、页面骨架开发</h1><h3 id="1-组件拆分（上）"><a href="#1-组件拆分（上）" class="headerlink" title="1.组件拆分（上）"></a>1.组件拆分（上）</h3><ol>
<li>在static中创建css文件夹，里面引入reset.css</li>
</ol>
<h3 id="2-组件拆分（中）"><a href="#2-组件拆分（中）" class="headerlink" title="2.组件拆分（中）"></a>2.组件拆分（中）</h3><ol>
<li>在header.vue中编写</li>
<li><pre><code>&lt;template&gt;
    &lt;div class=&quot;header&quot;&gt;
        I am header
    &lt;/div&gt;
&lt;/template&gt;

 &lt;script&gt;
    export default {}
&lt;/script&gt;

&lt;style lang=&quot;stylus&quot;&gt;

&lt;/style&gt;
</code></pre></li>
<li><p>在app.vue中的script引入</p>
<pre><code>import header from &apos;./components/header/header.vue&apos;

export default {
  components: {
    &apos;v-header&apos;: header
  }
}
</code></pre></li>
<li><p>下载插件</p>
<pre><code>npm install stylus-loader stylus --save-dev
</code></pre></li>
</ol>
<h3 id="3-组件拆分（下）"><a href="#3-组件拆分（下）" class="headerlink" title="3.组件拆分（下）"></a>3.组件拆分（下）</h3><ol>
<li><p>在app.vue的style中</p>
<pre><code>#app
  .tab
    display:flex
    width:100%
    height:40px
    line-height 40px  
    .tab-item
      flex 1
      text-align center
</code></pre><p>使用flex布局，依赖node_modules中的postcss插件搞定css兼容问题</p>
</li>
</ol>
<h3 id="4-vue-router"><a href="#4-vue-router" class="headerlink" title="4.vue-router"></a>4.vue-router</h3><ol>
<li><p>设置选项卡</p>
<pre><code>&lt;div class=&quot;tab&quot;&gt;
  &lt;div class=&quot;tab-item&quot;&gt;
    &lt;router-link to=&apos;./goods&apos;&gt;商品&lt;/router-link&gt;
  &lt;/div&gt;
  &lt;div class=&quot;tab-item&quot;&gt;
    &lt;router-link to=&apos;./ratings&apos;&gt;评论&lt;/router-link&gt;
  &lt;/div&gt;
  &lt;div class=&quot;tab-item&quot;&gt;
    &lt;router-link to=&apos;./seller&apos;&gt;商家&lt;/router-link&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre></li>
<li><p>在/router/index.js中</p>
<pre><code>import goods from &apos;@/components/goods/goods&apos;
import ratings from &apos;@/components/ratings/ratings&apos;
import seller from &apos;@/components/seller/seller&apos;

export default new Router({
  routes: [
    {
      path: &apos;/&apos;,
        redirect:&apos;/goods&apos;  //设置首页为goods
    },
    {
      path: &apos;/ratings&apos;,
      name: &apos;ratings&apos;,
      component: ratings
    },
    {
      path: &apos;/seller&apos;,
      name: &apos;seller&apos;,
      component: seller
    }
  ]
})
</code></pre></li>
<li>各自编写goods,ratings,seller组件</li>
<li>写css样式</li>
</ol>
<h3 id="5-像素实现"><a href="#5-像素实现" class="headerlink" title="5.像素实现"></a>5.像素实现</h3><p>因为不太会配置estin,会有很多报错，所以不装它。为了实现像素自适应，引入flexible插件，因为稿子宽度为750，所以html基准为750/10，使用px-rem插件（注意配置默认值为75，一般不配置的话为16）</p>
<ol>
<li>在common文件夹引入两个文件</li>
<li><p>在App.vue中引入</p>
<pre><code>window._ = require(&apos;./common/js/flexible.debug&apos;)
window._ = require(&apos;./common/js/flexible_css.debug&apos;)
</code></pre></li>
</ol>
<h3 id="6-实现手机预览"><a href="#6-实现手机预览" class="headerlink" title="6.实现手机预览"></a>6.实现手机预览</h3><p>将localhost改成ip地址，复制地址到草料生成二维码，扫码</p>
<h1 id="三、项目实战-header组件开发"><a href="#三、项目实战-header组件开发" class="headerlink" title="三、项目实战-header组件开发"></a>三、项目实战-header组件开发</h1><h3 id="1-Axios从远程读取数据"><a href="#1-Axios从远程读取数据" class="headerlink" title="1.Axios从远程读取数据"></a>1.Axios从远程读取数据</h3><ol>
<li><p>安装axious</p>
<pre><code>npm install axios --save
</code></pre></li>
<li><p>在所在页面引入axious</p>
<pre><code>import axios from &apos;axios&apos;
</code></pre></li>
<li><p>服务端拉取常用商品数据</p>
<pre><code>created(){[
      axios.get(&apos;/api/seller&apos;).then((response) =&gt; {
        if(response.data.erron === 0){
          this.seller = response.data.data
        }
      })
]}
</code></pre><ul>
<li><p>之前要分好数据（dev-server.js），然后在router的index.js中，加入</p>
<pre><code>mode: &apos;history&apos; 为了去掉地址中的#
</code></pre></li>
</ul>
</li>
</ol>
<h3 id="2-外部组件"><a href="#2-外部组件" class="headerlink" title="2.外部组件"></a>2.外部组件</h3><h5 id="1-将app-vue拉取的数据与header-vue连接"><a href="#1-将app-vue拉取的数据与header-vue连接" class="headerlink" title="(1).将app.vue拉取的数据与header.vue连接"></a>(1).将app.vue拉取的数据与header.vue连接</h5><ol>
<li><v-header :seller="seller"></v-header></li>
<li></li>
<li><p>   export default {<br>  props:{</p>
<pre><code>seller:{
    type:Object
}
</code></pre><p>  },</p>
</li>
</ol>
<h5 id="2-获取数据中图片地址"><a href="#2-获取数据中图片地址" class="headerlink" title="(2).获取数据中图片地址"></a>(2).获取数据中图片地址</h5><pre><code>&lt;img width=&quot;64&quot; height=&quot;64&quot; :src=&quot;seller.avatar&quot;&gt;
</code></pre><h5 id="3-判断2x图还是3x图"><a href="#3-判断2x图还是3x图" class="headerlink" title="(3).判断2x图还是3x图"></a>(3).判断2x图还是3x图</h5><ol>
<li><p>写/src/common/stylus/mixin.styl</p>
<pre><code>bg-image($url)
    background-image: url($url+&quot;@2x.png&quot;)
    @media (-webkit-min-device-pixel-ratio:3),(min-device-pixel-ratio:3)
        background-image: url($url+&quot;@3x.png&quot;)
</code></pre></li>
<li><p>在header.vue引入</p>
<pre><code>@import &quot;../../common/stylus/mixin&quot;
</code></pre></li>
<li>css书写<br> bg-imge(‘decrease’)</li>
</ol>
<h5 id="4-引入图标"><a href="#4-引入图标" class="headerlink" title="(4).引入图标"></a>(4).引入图标</h5><pre><code>@import &quot;../../common/stylus/icon&quot;
</code></pre><p>记得改里面的路径</p>
<h5 id="5-判断是减-折-套…"><a href="#5-判断是减-折-套…" class="headerlink" title="(5).判断是减/折/套…"></a>(5).判断是减/折/套…</h5><ol>
<li><p>绑定class，建立classMap数组</p>
<pre><code>&lt;span class=&quot;icon&quot; :class=&quot;classMap[seller.supports[0].type]&quot;&gt;&lt;/span&gt;

created (){
    this.classMap = [&apos;decrease&apos;,&apos;discount&apos;,&apos;special&apos;,&apos;invoice&apos;,&apos;guarantee&apos;,&apos;special&apos;]
}
</code></pre></li>
<li>用</li>
</ol>
<pre><code>&amp;.decrease
    bg-image(&apos;decrease_1&apos;)
&amp;.discount
    bg-image(&apos;discount_1&apos;)
&amp;.guarantee
    bg-image(&apos;guarantee_1&apos;)
&amp;.invoice
    bg-image(&apos;invoice_1&apos;)
&amp;.special
    bg-image(&apos;special_1&apos;)
</code></pre><h5 id="6-做背景图"><a href="#6-做背景图" class="headerlink" title="(6).做背景图"></a>(6).做背景图</h5><p>最后做背景，用定位定上去</p>
<h3 id="3-详情弹层页"><a href="#3-详情弹层页" class="headerlink" title="3.详情弹层页"></a>3.详情弹层页</h3><h5 id="1-星星评分"><a href="#1-星星评分" class="headerlink" title="(1).星星评分"></a>(1).星星评分</h5><ol>
<li>新建/src/components/star/star.vue</li>
<li><p>将half,on,off等图片放进star文件夹中</p>
<pre><code>&lt;template&gt;
    &lt;div class=&quot;star&quot; :class=&quot;starType&quot;&gt;
        &lt;span v-for=&quot;itemClass in itemClasses&quot; :class=&quot;itemClass&quot; class=&quot;star-item&quot;&gt;&lt;/span&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script type=&apos;text/ecmascript-6&apos;&gt;
    const LENGTH = 5
    const CLS_ON = &apos;on&apos;
    const CLS_HALF = &apos;half&apos;
    const CLS_OFF = &apos;off&apos;

    export default {
        props:{
            size:{
                type:Number
            },
            score:{
                type:Number
            }
        },
        computed:{
            starType(){
                return &apos;star-&apos;+this.size;
            },
            itemClasses(){
                let result = []
                let score = Math.floor(this.score*2)/2
                let hasDecimal = score %1 !== 0;
                let integer = Math.floor(score);
                for(let i = 0;i&lt;integer;i++){
                    result.push(CLS_ON)
                }
                if(hasDecimal){
                    result.push(CLS_HALF)
                }
                while(result.length&lt;LENGTH){
                    result.push(CLS_OFF);
                }
                return result
            }
        }
    }
&lt;/script&gt;

&lt;style lang=&apos;stylus&apos;&gt;
@import &quot;../../common/stylus/mixin&quot;

    .star
        font-size 0
        .star-item
            display inline-block
            background-repeat no-repeat
        &amp;.star-48
            .star-item
                width .533333rem
                height .533333rem
                margin-right .586667rem
                background-size .533333rem .533333rem
                &amp;:last-child
                    margin-right 0
                &amp;.on 
                    bg-image(&apos;star48_on&apos;)
                &amp;.half 
                    bg-image(&apos;star48_half&apos;)
                &amp;.off 
                    bg-image(&apos;star48_off&apos;)
        &amp;.star-36
            .star-item
                width .2rem
                height .2rem
                margin-right .16rem
                background-size .2rem .2rem
                &amp;:last-child
                    margin-right 0
                &amp;.on 
                    bg-image(&apos;star36_on&apos;)
                &amp;.half 
                    bg-image(&apos;star36_half&apos;)
                &amp;.off 
                    bg-image(&apos;star36_off&apos;)
        &amp;.star-24
            .star-item
                width .133333rem
                height .133333rem
                margin-right .08rem
                background-size .133333rem .133333rem
                &amp;:last-child
                    margin-right 0
                &amp;.on 
                    bg-image(&apos;star24_on&apos;)
                &amp;.half 
                    bg-image(&apos;star24_half&apos;)
                &amp;.off 
                    bg-image(&apos;star24_off&apos;)
&lt;/style&gt;
</code></pre></li>
</ol>
<pre><code>用：
&lt;div class=&quot;star-wrapper&quot;&gt;
    &lt;star :size=&apos;48&apos; :score=&apos;seller.score&apos;&gt;&lt;/star&gt;
&lt;/div&gt;
</code></pre><h5 id="2-线-文字-线布局"><a href="#2-线-文字-线布局" class="headerlink" title="(2).线-文字-线布局"></a>(2).线-文字-线布局</h5><p>flex布局</p>
<pre><code>.title
    display flex
    width 80%
    margin .746667rem auto .64rem auto
    .line
        flex 1
        position relative
        top -0.16rem
        border-bottom .013333rem solid rgba(255,255,255,0.2)
    .text
        padding 0 .32rem
        font-weight 700
        font-size .373333rem
</code></pre><h5 id="3-减、折、特、票、保列表的遍历"><a href="#3-减、折、特、票、保列表的遍历" class="headerlink" title="(3).减、折、特、票、保列表的遍历"></a>(3).减、折、特、票、保列表的遍历</h5><pre><code>&lt;ul v-if=&quot;seller.supports&quot; class=&quot;supports&quot;&gt;
    &lt;li class=&quot;support-item&quot; v-for=&quot;(item, index) in seller.supports&quot;&gt;
        &lt;span class=&quot;icon&quot; :class=&quot;classMap[seller.supports[index].type]&quot;&gt;&lt;/span&gt;
        &lt;span class=&apos;text&apos;&gt;{{seller.supports[index].description}}&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</code></pre><h5 id="4-动画"><a href="#4-动画" class="headerlink" title="(4).动画"></a>(4).动画</h5><pre><code>&lt;transition name=&quot;fade&quot;&gt;
    &lt;div transition=&quot;fade&quot; class=&quot;detail&quot;&gt;&lt;/div&gt;
&lt;/transition&gt;

.detail
    background rgba(7,17,27,0.8)
    backdrop-filter blur(.133333rem)
    &amp;.fade-enter-active,&amp;.fade-leave, &amp;.fade-leave-active
        opacity 1
        background rgba(7,17,27,0.8)
        transition all 0.5s
    &amp;.fade-enter
        opacity 0
        background rgba(7,17,27,0)
        transition all 0.5s
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/3816457655-58fafc9395966_articlex.png" alt=""></p>
<h5 id="5-Sticky-footers"><a href="#5-Sticky-footers" class="headerlink" title="(5).Sticky footers"></a>(5).Sticky footers</h5><p><strong>问题</strong></p>
<blockquote>
<p>如果页面内容不够长的时候，页脚块粘贴在视窗底部；如果内容足够长时，页脚块会被内容向下推送。</p>
</blockquote>
<p><strong>解决方案</strong></p>
<p><img src="http://oncweb6po.bkt.clouddn.com/FireShot%20Capture%201%20-%20sells%20-%20http___localhost_8080_.png" alt=""></p>
<pre><code>    &lt;div v-show=&apos;detailShow&apos; class=&quot;detail&quot; transition=&quot;fade&quot;&gt;
        &lt;div class=&quot;detail-wrapper clearfix&quot;&gt;
            &lt;div class=&quot;detail-main&quot;&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;detail-close&quot; @click=&apos;hideDetail&apos;&gt;
            &lt;i class=&quot;icon-close&quot;&gt;&lt;/i&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    .detail-wrapper
        min-height 100%
        width 100%
        .detail-main
            margin-top 1.706667rem
            padding-bottom .853333rem

    .detail-close
        position relative
        width .853333rem
        height .853333rem
        margin:-1.7067rem auto 0 auto
        clear both

在base.styl中
.clearfix
    display: inline-block
    &amp;:after
        display: block
        content:&quot;.&quot;
        height: 0
        line-height: 0
        clear: both
        visibility: hidden
</code></pre><h5 id="6-点击显示-关闭"><a href="#6-点击显示-关闭" class="headerlink" title="(6).点击显示/关闭"></a>(6).点击显示/关闭</h5><pre><code>&lt;div v-show=&apos;detailShow&apos; class=&quot;detail&quot; transition=&quot;fade&quot;&gt;

&lt;div class=&quot;detail-close&quot; @click=&apos;hideDetail&apos;&gt;


    data() {
        return {
            detailShow:false
        }
    }, 
    methods: {
        showDetail() {
            this.detailShow = true;
        },
        hideDetail() {
            this.detailShow = false;
        }
    },
</code></pre><h1 id="food商品详情页实现"><a href="#food商品详情页实现" class="headerlink" title="food商品详情页实现"></a>food商品详情页实现</h1><h3 id="1-将food组件和goods组件连接在一起"><a href="#1-将food组件和goods组件连接在一起" class="headerlink" title="1.将food组件和goods组件连接在一起"></a>1.将food组件和goods组件连接在一起</h3><ol>
<li><p>在goods template中引用food标签</p>
<pre><code>&lt;food :food=&apos;selectedFood&apos;&gt;&lt;/food&gt;
</code></pre></li>
<li><p>在goods script 中引入food组件</p>
<pre><code>import food from &apos;../food/food&apos;
</code></pre></li>
<li><p>在goods script components中引入food组件</p>
</li>
<li><p>goods组件输出food数据</p>
<pre><code>data(){
    return{
        selectedFood:{}
    }
}
</code></pre></li>
<li><p>在food组件注册属性food</p>
<pre><code>props:{
    food:{
        type:Object
    }
}
</code></pre></li>
</ol>
<h3 id="2-获取点击的物品"><a href="#2-获取点击的物品" class="headerlink" title="2.获取点击的物品"></a>2.获取点击的物品</h3><ol>
<li><p>在商品中绑定点击事件 goods组件</p>
<pre><code>&lt;li @click=&quot;selectFood(food,$event)&quot; v-for=&quot;food in item.foods&quot; class=&quot;food-item&quot;&gt;
</code></pre></li>
<li><p>在goods methods中加selectFood事件</p>
<pre><code>selectFood(food,event){
    if(!event._constructed){ //忽略掉BScroll的事件
        return
    }
    this.selectedFood = food //写入当前选择的food
}
</code></pre></li>
</ol>
<h3 id="3-点击物品弹出层"><a href="#3-点击物品弹出层" class="headerlink" title="3.点击物品弹出层"></a>3.点击物品弹出层</h3><ol>
<li><p>在food组件中添加methods</p>
<pre><code>methods:{
    show(){
        this.showFlag = true
    }
}
</code></pre></li>
<li><p>在food组件中注册showFlag值</p>
<pre><code>data(){
    return{
        showFlag:false
    }
},
</code></pre></li>
<li><p>在goods组件 food标签添加ref属性，连接子组件</p>
<pre><code>ref=&quot;food&quot;
</code></pre></li>
<li><p>在goods组件 selectFood方法中调用子组件show方法</p>
<pre><code>this.$refs.food.show()
</code></pre></li>
</ol>
<h3 id="4-实现弹出层从右到左动画"><a href="#4-实现弹出层从右到左动画" class="headerlink" title="4.实现弹出层从右到左动画"></a>4.实现弹出层从右到左动画</h3><ol>
<li><p>给food组件 template最外层中 加一个<transition\>标签</transition\></p>
<pre><code>&lt;transition name=&apos;move&apos;&gt;&lt;/transition&gt;
</code></pre></li>
</ol>
<p>2.在 food组件 css中</p>
<pre><code>.food
  transform: translate3d(0, 0, 0)
  &amp;.move-enter-active, &amp;.move-leave-active
    transition: all 0.2s linear
  &amp;.move-enter, &amp;.move-leave-active
    transform: translate3d(100%, 0, 0)
</code></pre><h3 id="5-让图片宽高一样的黑魔法"><a href="#5-让图片宽高一样的黑魔法" class="headerlink" title="5.让图片宽高一样的黑魔法"></a>5.让图片宽高一样的黑魔法</h3><pre><code>.image-header
    position relative 
    width 100%
    height 0
    padding-top 100%
    img
        position absolute
        top 0
        left 0
        width 100%
        height 100%
</code></pre><h3 id="6-返回小图标"><a href="#6-返回小图标" class="headerlink" title="6.返回小图标"></a>6.返回小图标</h3><p>可以在外面套给div，里面的i标签用padding定位</p>
<pre><code>.back
    position absolute
    top .266667rem
    left 0
    .icon-arrow_lift
        display block
        padding .266667rem
        font-size .533333rem
        color #ffffff
</code></pre><h3 id="7-隐藏滚动条-food"><a href="#7-隐藏滚动条-food" class="headerlink" title="7.隐藏滚动条(food)"></a>7.隐藏滚动条(food)</h3><ol>
<li><p>引入better.scroll插件</p>
<pre><code>import BScroll from &apos;better-scroll&apos;
</code></pre></li>
<li><p>在最外层div，加注册</p>
<pre><code>ref=&apos;food&apos;
</code></pre></li>
<li><p>在show方法上加</p>
<pre><code>this.$nextTick(()=&gt;{  //在这个函数中调用以防内容还未加载完就执行，获取不到元素的高度导致无法滑动
    if(!this.scroll){
        this.scroll = new BScroll(this.$refs.food,{
            click:true
        })
    }else{
        this.scroll.refresh()
    }
})
</code></pre></li>
</ol>
<h3 id="8-点击购物车，数量加一"><a href="#8-点击购物车，数量加一" class="headerlink" title="8.点击购物车，数量加一"></a>8.点击购物车，数量加一</h3><ol>
<li><p>在methods,addCart()中加</p>
<pre><code>addCart(event){
    if (!event._constructed) {
    return;
    }
    if(!this.food.count){
        Vue.set(this.food,&apos;count&apos;,1) //不能像平常那样this.food.count = 1
    }else{
        this.food.count++
    }
}
</code></pre></li>
<li><p>引入vue</p>
<pre><code>import Vue from &apos;vue&apos;
</code></pre></li>
</ol>
<h3 id="9-分割线"><a href="#9-分割线" class="headerlink" title="9.分割线"></a>9.分割线</h3><p>因为出现次数多，所以直接写一个组件</p>
<h3 id="10-商品评价"><a href="#10-商品评价" class="headerlink" title="10.商品评价"></a>10.商品评价</h3><ol>
<li>编写ratingselect组件</li>
<li><p>加属性</p>
<pre><code>const POSITIVE = 0
const NEGATIVE = 1
const ALL = 2

export default{
    props:{
        ratings:{
            type:Array,
            default(){
                return []
            }
        },
        selectType:{
            type:Number,
            default:ALL
        },
        onlyContent:{
            type:Boolean,
            default:false
        },
        desc:{
            type:Object,
            default(){
                return{
                    all:&apos;全部&apos;,
                    positive:&apos;满意&apos;,
                    negative:&apos;不满意&apos;
                }
            }
        }
    }
}
</code></pre></li>
<li>引入到food组件中（常规方法）</li>
</ol>
<h3 id="11-food组件改ratingselect组件（父组件改子组件数据）"><a href="#11-food组件改ratingselect组件（父组件改子组件数据）" class="headerlink" title="11.food组件改ratingselect组件（父组件改子组件数据）"></a>11.food组件改ratingselect组件（父组件改子组件数据）</h3><ol>
<li><p>data输出数据</p>
<pre><code>data(){
    return{
        selectType:ALL,
        onlyContent:true,
        desc:{
            all:&apos;全部&apos;,
            positive:&apos;推荐&apos;,
            negative:&apos;吐槽&apos;
        }
    }
}
</code></pre></li>
<li><ratingselect\>标签绑定数据<br><br>           <ratingselect :selecttype="selectType" :onlycontent="onlyContent" :desc="desc" :ratings="food.ratings"></ratingselect></ratingselect\></li>
<li><p>别忘了在show()中初始化数据</p>
<pre><code>show(){
    this.selectType = ALL
    this.onlyContent = true
}
</code></pre></li>
</ol>
<h3 id="12-消除间隙，把父元素的font-size设置为0"><a href="#12-消除间隙，把父元素的font-size设置为0" class="headerlink" title="12.消除间隙，把父元素的font-size设置为0"></a>12.消除间隙，把父元素的font-size设置为0</h3><h3 id="13-如何添加active类-选中"><a href="#13-如何添加active类-选中" class="headerlink" title="13.如何添加active类(选中)"></a>13.如何添加active类(选中)</h3><ol>
<li>设置selectType属性</li>
<li>将每个描述与selectType属性链接（desc属性）</li>
<li><p>判断selectType属性</p>
<pre><code>:class=&quot;{&apos;active&apos;:selectType===2}&quot;
</code></pre></li>
</ol>
<h3 id="14-点击-只显示有内容的评价"><a href="#14-点击-只显示有内容的评价" class="headerlink" title="14.点击 只显示有内容的评价"></a>14.点击 只显示有内容的评价</h3><pre><code>:class=&quot;{&apos;on&apos;:onlyContent}&quot;
</code></pre><p>绑定属性</p>
<h3 id="15-点击只显示有内容的评价-切换"><a href="#15-点击只显示有内容的评价-切换" class="headerlink" title="15.点击只显示有内容的评价 切换"></a>15.点击只显示有内容的评价 切换</h3><p>添加toggleContent()方法</p>
<pre><code>toggleContent(event){
    if(!event._constructed){ //better.scroll 会给pc端添加click事件，需要阻止
        return 
    }
    this.onlyContent = !this.onlyContent
    this.$emit(&apos;toggle&apos;)  //与food相关联，将数据传出去
}
</code></pre><h3 id="16-全部-推荐-吐槽-按钮的切换"><a href="#16-全部-推荐-吐槽-按钮的切换" class="headerlink" title="16.全部 推荐 吐槽 按钮的切换"></a>16.全部 推荐 吐槽 按钮的切换</h3><p>在标签中引用</p>
<pre><code>@click=&quot;select(2,$event)&quot;
</code></pre><p>添加 select(type,event)方法</p>
<pre><code>select(type,event){
    if(!event._constructed){
        return
    }
    this.selectType = type
    this.$emit(&apos;select&apos;,type)
}
</code></pre><p>之后会根据css写的样式进行展示</p>
<h3 id="17-可以同时判断两个类"><a href="#17-可以同时判断两个类" class="headerlink" title="17.可以同时判断两个类"></a>17.可以同时判断两个类</h3><pre><code>&lt;span :class=&quot;{&apos;icon-thumb_up&apos;:rating.rateType===0,&apos;icon-thumb_down&apos;:rating.rateType===1}&quot;&gt;&lt;/span&gt;
</code></pre><h3 id="18-实现点击全部-推荐-吐槽，显示该显示的内容"><a href="#18-实现点击全部-推荐-吐槽，显示该显示的内容" class="headerlink" title="18.实现点击全部 推荐 吐槽，显示该显示的内容"></a>18.实现点击全部 推荐 吐槽，显示该显示的内容</h3><h5 id="1-在评论区加上展示的方法"><a href="#1-在评论区加上展示的方法" class="headerlink" title="1.在评论区加上展示的方法"></a>1.在评论区加上展示的方法</h5><pre><code>&lt;li v-show=&quot;needShow(rating.rateType,rating.text)&quot; v-for=&quot;rating in food.ratings&quot;
    class=&quot;rating-item&quot;&gt;
</code></pre><h5 id="2-needShow-type-text"><a href="#2-needShow-type-text" class="headerlink" title="2.needShow(type,text)"></a>2.needShow(type,text)</h5><pre><code>needShow(type, text) {
  if (this.onlyContent &amp;&amp; !text) {
    return false;
  }
  if (this.selectType === ALL) {
    return true;
  } else {
    return type === this.selectType;
  }
}
</code></pre><h5 id="3-实现food组件和ratingselect组件链接"><a href="#3-实现food组件和ratingselect组件链接" class="headerlink" title="3.实现food组件和ratingselect组件链接"></a>3.实现food组件和ratingselect组件链接</h5><ol>
<li><p>ratingselect组件</p>
<pre><code>methods: {
  select(type, event) {
    if (!event._constructed) {
      return;
    }
    this.$emit(&apos;select&apos;, type);
  },
  toggleContent(event) {
    if (!event._constructed) {
      return;
    }
    this.$emit(&apos;toggle&apos;);
  }
}
</code></pre></li>
<li><p>food组件绑定ratingselect组件的方法</p>
<pre><code>&lt;ratingselect @select=&quot;selectRating&quot; @toggle=&quot;toggleContent&quot; :selectType=&quot;selectType&quot;
              :onlyContent=&quot;onlyContent&quot; :desc=&quot;desc&quot;
              :ratings=&quot;food.ratings&quot;&gt;&lt;/ratingselect&gt;
</code></pre></li>
<li><p>写绑定的方法</p>
<p>   selectRating(type) {</p>
<pre><code>this.selectType = type;
this.$nextTick(() =&gt; {
  this.scroll.refresh();
});
</code></pre><p>   },<br>   toggleContent() {</p>
<pre><code>this.onlyContent = !this.onlyContent;
this.$nextTick(() =&gt; {
  this.scroll.refresh();
});
</code></pre><p>   }</p>
</li>
</ol>
<h3 id="19-将时间戳转化为日期格式-yyyy-MM-dd-hh-mm"><a href="#19-将时间戳转化为日期格式-yyyy-MM-dd-hh-mm" class="headerlink" title="19.将时间戳转化为日期格式 yyyy-MM-dd hh:mm"></a>19.将时间戳转化为日期格式 yyyy-MM-dd hh:mm</h3><h5 id="1-filters-把时间戳传到函数里"><a href="#1-filters-把时间戳传到函数里" class="headerlink" title="1.filters 把时间戳传到函数里"></a>1.filters 把时间戳传到函数里</h5><pre><code>&lt;div class=&quot;time&quot;&gt;{{rating.rateTime | formatDate}}&lt;/div&gt;

filters:{
    formatDate(time){
        let date = new Date(time)
        return formatDate(date,&apos;yyyy-MM-dd hh:mm&apos;)
    }
}
</code></pre><h5 id="2-传入formaDate模块，因为用的export-，所以要用"><a href="#2-传入formaDate模块，因为用的export-，所以要用" class="headerlink" title="2.传入formaDate模块，因为用的export ，所以要用{}"></a>2.传入formaDate模块，因为用的export ，所以要用{}</h5><pre><code>import {formatDate} from &apos;../../common/js/date&apos;
</code></pre><h5 id="3-date-js"><a href="#3-date-js" class="headerlink" title="3.date.js"></a>3.date.js</h5><pre><code>export function formatDate(date,fmt){
    if(/(y+)/.test(fmt)){
        fmt = fmt.replace(RegExp.$1,(date.getFullYear()+&apos;&apos;).substr(4-RegExp.$1.length))
    }
    let o = {
        &apos;M+&apos;:date.getMonth() +1,
        &apos;d+&apos;:date.getDate(),
        &apos;h+&apos;:date.getHours(),
        &apos;m+&apos;:date.getMinutes(),
        &apos;s+&apos;:date.getSeconds()
    }
    for(let k in o){
        if(new RegExp(`(${k})`).test(fmt)){
            let str = o[k] + &apos;&apos;
            fmt = fmt.replace(RegExp.$1,(RegExp.$1.length === 1)?str:padLeftZero(str))
        }
    }
    return fmt
}

function padLeftZero(str){
    return (&apos;00&apos;+str).substr(str.length)
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/09/09/Vue2-0组件之间通信/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/Vue2-0组件之间通信/" itemprop="url">Vue2.0组件之间通信</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-09T17:49:38+08:00">
                2017-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>App.vue

&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;

  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &apos;app&apos;,
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;
</code></pre><h3 id="一-我们先来创建中央事件总线，在src-assets-下创建一个eventBus-js-内容如下"><a href="#一-我们先来创建中央事件总线，在src-assets-下创建一个eventBus-js-内容如下" class="headerlink" title="一 .我们先来创建中央事件总线，在src/assets/下创建一个eventBus.js,内容如下"></a>一 .我们先来创建中央事件总线，在src/assets/下创建一个eventBus.js,内容如下</h3><pre><code>import Vue from &apos;Vue&apos;

export default new Vue
</code></pre><blockquote>
<p>eventBus中我们只创建了一个新的Vue实例，以后它就承担起了组件之间通信的桥梁了，也就是中央事件总线。</p>
</blockquote>
<h3 id="二-创建一个firstChild组件，引入eventBus这个事件总线，接着添加一个按钮并绑定一个点击事件"><a href="#二-创建一个firstChild组件，引入eventBus这个事件总线，接着添加一个按钮并绑定一个点击事件" class="headerlink" title="二 . 创建一个firstChild组件，引入eventBus这个事件总线，接着添加一个按钮并绑定一个点击事件"></a>二 . 创建一个firstChild组件，引入eventBus这个事件总线，接着添加一个按钮并绑定一个点击事件</h3><pre><code>&lt;template&gt;
    &lt;div id=&quot;firstChild&quot;&gt;
        &lt;h2&gt;firstChild组件&lt;/h2&gt;
        &lt;button @click=&quot;sendMsg&quot;&gt;向组件传值&lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import bus from &apos;../assets/eventBus&apos;

export default {
    methods:{
        sendMsg:function(){
            bus.$emit(&quot;userDefinedEvent&quot;,&quot;this message is from firstChild&quot;)
        }
    }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;
</code></pre><blockquote>
<p>我们在响应点击事件的sendMsg函数中用$emit触发了一个自定义的userDefinedEvent事件，并传递了一个字符串参数<br>PS:$emit实例方法触发当前实例(这里的当前实例就是bus)上的事件,附加参数都会传给监听器回调。</p>
</blockquote>
<h3 id="三-我们再创建一个secondChild组件，引入eventBus事件总线，并用一个p标签来显示传递过来的值"><a href="#三-我们再创建一个secondChild组件，引入eventBus事件总线，并用一个p标签来显示传递过来的值" class="headerlink" title="三 . 我们再创建一个secondChild组件，引入eventBus事件总线，并用一个p标签来显示传递过来的值"></a>三 . 我们再创建一个secondChild组件，引入eventBus事件总线，并用一个p标签来显示传递过来的值</h3><pre><code>&lt;template&gt;
    &lt;div id=&quot;secondChild&quot;&gt;
        &lt;h2&gt;secondChild组件&lt;/h2&gt;
        &lt;p&gt;从firstChild接收的字符串参数：{{msg}}&lt;/p&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import bus from &apos;../assets/eventBus&apos;

export default {
    data(){
        return{
            msg:&quot;默认值&quot;
        }
    },
    mounted(){
        var self = this
        bus.$on(&quot;userDefinedEvent&quot;,function(msg){
            self.msg = msg
        })
    }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;
</code></pre><blockquote>
<p>我们在mounted中，监听了userDefinedEvent,并把传递过来的字符串参数传递给了$on监听器的回调函数<br>PS:<br>mounted:是一个Vue生命周期中的钩子函数，简单点说就类似于jquery的ready，Vue会在文档加载完毕后调用mounted函数。<br>$on:监听当前实例上的自定义事件(此处当前实例为bus)。事件可以由$emit触发，回调函数会接收所有传入事件触发函数($emit)的额外参数。</p>
</blockquote>
<h3 id="四-在父组件中，注册这两个组件，并添加这两个组件的标签"><a href="#四-在父组件中，注册这两个组件，并添加这两个组件的标签" class="headerlink" title="四 . 在父组件中，注册这两个组件，并添加这两个组件的标签"></a>四 . 在父组件中，注册这两个组件，并添加这两个组件的标签</h3><pre><code>App.vue
&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;firstChild&gt;&lt;/firstChild&gt;
    &lt;secondChild&gt;&lt;/secondChild&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import firstChild from &apos;./components/firstChild&apos;
import secondChild from &apos;./components/secondChild&apos;
export default {
  name: &apos;app&apos;,
  components:{
    firstChild,
    secondChild
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;
</code></pre><h3 id="保存所有修改的文件，然后打开浏览器窗口，内容如下-css请自行处理"><a href="#保存所有修改的文件，然后打开浏览器窗口，内容如下-css请自行处理" class="headerlink" title="保存所有修改的文件，然后打开浏览器窗口，内容如下(css请自行处理)"></a>保存所有修改的文件，然后打开浏览器窗口，内容如下(css请自行处理)</h3><p><img src="http://oncweb6po.bkt.clouddn.com/1916203-08aff10cb88ecc45.png" alt=""></p>
<h3 id="点击向组件传值按钮，我们可以看到传值成功"><a href="#点击向组件传值按钮，我们可以看到传值成功" class="headerlink" title="点击向组件传值按钮，我们可以看到传值成功"></a>点击向组件传值按钮，我们可以看到传值成功</h3><p><img src="http://oncweb6po.bkt.clouddn.com/1916203-96aa0f4902fe8d63.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/09/09/Vue2-0子父组件通信/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/Vue2-0子父组件通信/" itemprop="url">Vue2.0子父组件通信</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-09T17:45:18+08:00">
                2017-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://oncweb6po.bkt.clouddn.com/111.png" alt=""></p>
<p>###一.父组件向子组件传值</p>
<ol>
<li>创建子组件，在src/components/文件夹下新建一个Child.vue</li>
<li>Child.vue的中创建props，然后创建一个名为message的属性</li>
</ol>
<p><img src="http://oncweb6po.bkt.clouddn.com/222.png" alt=""></p>
<p>3.在App.vue中注册Child组件，并在template中加入child标签，标签中添加message属性并赋值</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/333.png" alt=""></p>
<p>4.保存修改的文件，查看浏览器</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/444.png" alt=""></p>
<p>5.我们依然可以对message的值进行v-bind动态绑定</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/555.png" alt=""></p>
<p>此时浏览器中</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/666.png" alt=""></p>
<blockquote>
<p>父组件向子组件传值成功<br>总结一下：</p>
<ul>
<li>子组件在props中创建一个属性，用以接收父组件传过来的值</li>
</ul>
<ul>
<li>父组件中注册子组件</li>
</ul>
<ul>
<li>在子组件标签中添加子组件props中创建的属性</li>
</ul>
<ul>
<li>把需要传给子组件的值赋给该属性</li>
</ul>
</blockquote>
<h3 id="二-子组件向父组件传值"><a href="#二-子组件向父组件传值" class="headerlink" title="二.子组件向父组件传值"></a>二.子组件向父组件传值</h3><p>1.在子组件中创建一个按钮，给按钮绑定一个点击事件</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/777.png" alt=""></p>
<p>2.在响应该点击事件的函数中使用$emit来触发一个自定义事件，并传递一个参数</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/888.png" alt=""></p>
<p>3.在父组件中的子标签中监听该自定义事件并添加一个响应该事件的处理方法</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/999.png" alt=""></p>
<p>4.保存修改的文件，在浏览器中点击按钮</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/1010.png" alt=""></p>
<blockquote>
<p>子组件向父组件传值成功<br>总结一下：</p>
<ul>
<li>子组件中需要以某种方式例如点击事件的方法来触发一个自定义事件</li>
</ul>
<ul>
<li>将需要传的值作为$emit的第二个参数，该值将作为实参传给响应自定义事件的方法</li>
</ul>
<ul>
<li>在父组件中注册子组件并在子组件标签上绑定对自定义事件的监听</li>
</ul>
</blockquote>
<p><strong>在通信中，无论是子组件向父组件传值还是父组件向子组件传值，他们都有一个共同点就是有中间介质，子向父的介质是自定义事件，父向子的介质是props中的属性。抓准这两点对于父子通信就好理解了</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/08/24/flex布局/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/24/flex布局/" itemprop="url">flex布局</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-24T17:27:09+08:00">
                2017-08-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一、Flex-布局是什么？"><a href="#一、Flex-布局是什么？" class="headerlink" title="一、Flex 布局是什么？"></a>一、Flex 布局是什么？</h1><p>Flex 是 Flexible Box 的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。</p>
<p>任何一个容器都可以指定为 Flex 布局。</p>
<pre><code>.box{
  display: flex;
}
</code></pre><p>行内元素也可以使用 Flex 布局。</p>
<pre><code>.box{
  display: inline-flex;
}
</code></pre><p>Webkit 内核的浏览器，必须加上-webkit前缀。</p>
<pre><code>.box{
  display: -webkit-flex; /* Safari */
  display: flex;
}
</code></pre><p>注意，设为 Flex 布局以后，子元素的float、clear和vertical-align属性将失效。</p>
<h1 id="二、基本概念"><a href="#二、基本概念" class="headerlink" title="二、基本概念"></a>二、基本概念</h1><p>采用 Flex 布局的元素，称为 Flex 容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），简称”项目”。</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/1.png" alt=""></p>
<p>容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做main start，结束位置叫做main end；交叉轴的开始位置叫做cross start，结束位置叫做cross end。</p>
<p>项目默认沿主轴排列。单个项目占据的主轴空间叫做main size，占据的交叉轴空间叫做cross size。</p>
<h1 id="三、容器的属性"><a href="#三、容器的属性" class="headerlink" title="三、容器的属性"></a>三、容器的属性</h1><p>以下6个属性设置在容器上。</p>
<ul>
<li>flex-direction</li>
<li>flex-wrap</li>
<li>flex-flow</li>
<li>justify-content</li>
<li>align-items</li>
<li>align-content</li>
</ul>
<h3 id="3-1-flex-direction属性"><a href="#3-1-flex-direction属性" class="headerlink" title="3.1 flex-direction属性"></a>3.1 flex-direction属性</h3><p>flex-direction属性决定主轴的方向（即项目的排列方向）。</p>
<pre><code>.box {
  flex-direction: row | row-reverse | column | column-reverse;
}
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/2.png" alt=""></p>
<p>它可能有4个值。</p>
<ul>
<li>row（默认值）：主轴为水平方向，起点在左端。</li>
<li>row-reverse：主轴为水平方向，起点在右端。</li>
<li>column：主轴为垂直方向，起点在上沿。</li>
<li>column-reverse：主轴为垂直方向，起点在下沿。</li>
</ul>
<h3 id="3-2-flex-wrap属性"><a href="#3-2-flex-wrap属性" class="headerlink" title="3.2 flex-wrap属性"></a>3.2 flex-wrap属性</h3><p>默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，如果一条轴线排不下，如何换行。</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/3.png" alt=""></p>
<pre><code>.box{
  flex-wrap: nowrap | wrap | wrap-reverse;
}
</code></pre><p>它可能取三个值。</p>
<p>（1）nowrap（默认）：不换行。</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/bg2015071007.png" alt=""></p>
<p>（2）wrap：换行，第一行在上方。</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/5.jpg" alt=""></p>
<p>（3）wrap-reverse：换行，第一行在下方。</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/6.jpg" alt=""></p>
<h3 id="3-3-flex-flow"><a href="#3-3-flex-flow" class="headerlink" title="3.3 flex-flow"></a>3.3 flex-flow</h3><p>flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。</p>
<pre><code>.box {
  flex-flow: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;
}
</code></pre><p>###3.4 justify-content属性<br>justify-content属性定义了项目在主轴上的对齐方式。</p>
<pre><code>.box {
  justify-content: flex-start | flex-end | center | space-between | space-around;
}
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/7.png" alt=""></p>
<p>它可能取5个值，具体对齐方式与轴的方向有关。下面假设主轴为从左到右。</p>
<ul>
<li>flex-start（默认值）：左对齐</li>
<li>flex-end：右对齐</li>
<li>center： 居中</li>
<li>space-between：两端对齐，项目之间的间隔都相等。</li>
<li>space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</li>
</ul>
<h3 id="3-5-align-items属性"><a href="#3-5-align-items属性" class="headerlink" title="3.5 align-items属性"></a>3.5 align-items属性</h3><p>align-items属性定义项目在交叉轴上如何对齐。</p>
<pre><code>.box {
  align-items: flex-start | flex-end | center | baseline | stretch;
}
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/8.png" alt=""></p>
<p>它可能取5个值。具体的对齐方式与交叉轴的方向有关，下面假设交叉轴从上到下。</p>
<ul>
<li>flex-start：交叉轴的起点对齐。</li>
<li>flex-end：交叉轴的终点对齐。</li>
<li>center：交叉轴的中点对齐。</li>
<li>baseline: 项目的第一行文字的基线对齐。</li>
<li>stretch（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度。</li>
</ul>
<h3 id="3-6-align-content属性"><a href="#3-6-align-content属性" class="headerlink" title="3.6 align-content属性"></a>3.6 align-content属性</h3><p>align-content属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。</p>
<pre><code>.box {
  align-content: flex-start | flex-end | center | space-between | space-around | stretch;
}
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/9.png" alt=""></p>
<p>该属性可能取6个值。</p>
<ul>
<li>flex-start：与交叉轴的起点对齐。</li>
<li>flex-end：与交叉轴的终点对齐。</li>
<li>center：与交叉轴的中点对齐。</li>
<li>space-between：与交叉轴两端对齐，轴线之间的间隔平均分布。</li>
<li>space-around：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</li>
<li>stretch（默认值）：轴线占满整个交叉轴。</li>
</ul>
<h1 id="四、项目的属性"><a href="#四、项目的属性" class="headerlink" title="四、项目的属性"></a>四、项目的属性</h1><p>以下6个属性设置在项目上。</p>
<ul>
<li>order</li>
<li>flex-grow</li>
<li>flex-shrink</li>
<li>flex-basis</li>
<li>flex</li>
<li>align-self</li>
</ul>
<h3 id="4-1-order属性"><a href="#4-1-order属性" class="headerlink" title="4.1 order属性"></a>4.1 order属性</h3><p>order属性定义项目的排列顺序。数值越小，排列越靠前，默认为0。</p>
<pre><code>.item {
  order: &lt;integer&gt;;
}
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/10.png" alt=""></p>
<p>###4.2 flex-grow属性<br>flex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。</p>
<pre><code>.item {
  flex-grow: &lt;number&gt;; /* default 0 */
}
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/11.png" alt=""></p>
<p>如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。</p>
<h3 id="4-3-flex-shrink属性"><a href="#4-3-flex-shrink属性" class="headerlink" title="4.3 flex-shrink属性"></a>4.3 flex-shrink属性</h3><p>flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。</p>
<pre><code>.item {
  flex-shrink: &lt;number&gt;; /* default 1 */
}
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/12.jpg" alt=""></p>
<p>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。</p>
<p>负值对该属性无效。</p>
<h3 id="4-4-flex-basis属性"><a href="#4-4-flex-basis属性" class="headerlink" title="4.4 flex-basis属性"></a>4.4 flex-basis属性</h3><p>flex-basis属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小。</p>
<pre><code>.item {
  flex-basis: &lt;length&gt; | auto; /* default auto */
}
</code></pre><p>它可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间。</p>
<h3 id="4-5-flex属性"><a href="#4-5-flex属性" class="headerlink" title="4.5 flex属性"></a>4.5 flex属性</h3><p>flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。</p>
<pre><code>.item {
  flex: none | [ &lt;&apos;flex-grow&apos;&gt; &lt;&apos;flex-shrink&apos;&gt;? || &lt;&apos;flex-basis&apos;&gt; ]
}
</code></pre><p>该属性有两个快捷值：auto (1 1 auto) 和 none (0 0 auto)。</p>
<p>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。</p>
<h3 id="4-6-align-self属性"><a href="#4-6-align-self属性" class="headerlink" title="4.6 align-self属性"></a>4.6 align-self属性</h3><p>align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。</p>
<pre><code>.item {
  align-self: auto | flex-start | flex-end | center | baseline | stretch;
}
</code></pre><p><img src="http://oncweb6po.bkt.clouddn.com/13.png" alt=""></p>
<p>该属性可能取6个值，除了auto，其他都与align-items属性完全一致。<br>（完）</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://super-wei.xyz/2017/08/22/部署项目到服务器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZhangWei2222">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/person.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangWei2222">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/22/部署项目到服务器/" itemprop="url">部署项目到服务器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-22T22:52:29+08:00">
                2017-08-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-购买服务器"><a href="#1-购买服务器" class="headerlink" title="1.购买服务器"></a>1.购买服务器</h3><p>阿里云学生机，华南区</p>
<h3 id="2-安装Nginx"><a href="#2-安装Nginx" class="headerlink" title="2.安装Nginx"></a>2.安装Nginx</h3><pre><code>sudo apt-get install nginx

yum install nginx
service nginx start
</code></pre><h3 id="3-创建网站的根目录"><a href="#3-创建网站的根目录" class="headerlink" title="3.创建网站的根目录"></a>3.创建网站的根目录</h3><pre><code>sudo mkdir -p /var/www
</code></pre><h3 id="4-配置nginx服务器"><a href="#4-配置nginx服务器" class="headerlink" title="4.配置nginx服务器"></a>4.配置nginx服务器</h3><pre><code>cd /etc/nginx
sudo vim /etc/nginx/...
</code></pre><p>打开nginx的配置文件之后，找到server这一块，大概是长这个样子的</p>
<pre><code>server {

        listen 80 default_server;

        listen [::]:80 default_server ipv6only=on;


        root /usr/share/nginx/html;

        index index.html index.htm;


        server_name localhost;


        location / {

                try_files $uri $uri/ =404;

        }

}
</code></pre><blockquote>
<p>root 改成放代码的目录，一般是在/var/www里面（先通过Filezilla把代码放进去）</p>
<p>如果有域名就在server_name 后面加域名！！</p>
</blockquote>
<h3 id="5-打开端口"><a href="#5-打开端口" class="headerlink" title="5.打开端口"></a>5.打开端口</h3><p>因为阿里云服务器默认没打开nginx配置里的80端口，所以要去配置</p>
<p><img src="http://oncweb6po.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20170822230303.png" alt=""></p>
<h3 id="6-查错笔记"><a href="#6-查错笔记" class="headerlink" title="6.查错笔记"></a>6.查错笔记</h3><blockquote>
<p>sudo vim/var/log/nginx</p>
<p>sudo vim/var/log/access.log</p>
<p>sudo vim/var/log/error.log</p>
<p>sudo service nginx status //看nginx服务是否正常</p>
<p>sudo service nginx restart //重新开nginx</p>
<p>sudo nginx -t //查错</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/person.jpg"
               alt="ZhangWei2222" />
          <p class="site-author-name" itemprop="name">ZhangWei2222</p>
           
              <p class="site-description motion-element" itemprop="description">Dream high</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/">
                <span class="site-state-item-count">59</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZhangWei2222</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
